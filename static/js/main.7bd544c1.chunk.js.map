{"version":3,"sources":["resources/logo.svg","helpers/TimeHelpers.js","hooks/useDatabase.js","hooks/useInterval.js","hooks/useLocalStorage.js","hooks/useLocalChanges.js","hooks/useSettings.js","components/FormElements/EventTypeSelector.js","components/FormElements/InlineFormGroup.js","components/PageHeading.js","components/TableRow.js","pages/History.js","pages/Home.js","pages/Settings.js","resources/wizard-hat.svg","components/WizardPages/ChooseClass.js","helpers/MiscHelpers.js","helpers/CssColors.js","components/FormElements/CustomSelect.js","components/FormElements/CssColorSelect.js","components/FormElements/ColorPicker.js","components/WizardPages/ChooseFontStyle.js","components/FormElements/AnimationSelect.js","components/WizardPages/ChooseRowStyle.js","components/WizardPages/FinishPage.js","components/RowFormattingWizard.js","pages/Types.js","components/RulesEngineAlerts.js","components/DatabaseManagedRoutes.js","webpack:///./src/resources/logo.svg?bd73","components/NavigationBar.js","pages/About.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","getLocalIsoString","date","Date","getTime","getTimezoneOffset","toISOString","getLocalIsoDateAndTime","isoString","splitIsoString","dateSplit","split","timeSplit","getLocalTimezoneOffset","getTodaysStartAndEndDatetimes","todaysDate","timezoneOffset","dayStart","millisecondsInHour","getStartAndEndDatetimes","startDate","endDate","getWeekNumber","dateString","d","setUTCDate","getUTCDate","getUTCDay","year","getUTCFullYear","yearStart","UTC","Math","ceil","getWeekStartAndEnd","start","end","getHumanReadableTimeSinceDatetime","datePast","dateFormat","month","week","day","hour","minute","second","millisecond","difference","returnValue","lowerFormat","toLowerCase","yearToken","monthToken","weekToken","dayToken","hourToken","minuteToken","secondToken","millisecondToken","remainder","search","years","millisecondsInDay","floor","replace","months","weeks","days","hours","millisecondsInMinute","minutes","millisecondsInSecond","seconds","basepath","process","useDatabase","useState","eventTypes","setEventTypes","events","setEvents","lastSync","setLastSync","notConnected","setNotConnected","tryAddType","eventType","a","async","succeeds","url","id","options","method","body","JSON","stringify","headers","fetch","ok","tryUpdateType","tryAddEvent","newEvent","tryDeleteEvent","eventId","updateEventTypesInRAM","eventTypesToModify","eventTypeChangeQueue","types","slice","eType","index","findIndex","t","splice","push","addNewEventsToRAM","eventsToAdd","eventChangeQueue","concat","deleteEventsFromRAM","eventsToDelete","isBulkChange","resultRows","r","bulkUpdateEventTypes","successes","array","evtType","origId","newType","e","i","find","ids","map","max","String","Number","lastModified","indexOf","idx","bulkDeleteEvents","bulkAddEvents","evt","tryPullChanges","responseTypes","responseEvts","success","typeResponse","json","Error","evtResponse","console","error","tryModifyType","useInterval","callback","delay","savedCallback","useRef","useEffect","current","setInterval","clearInterval","useLocalStorage","key","initialValue","item","window","localStorage","getItem","parse","log","storedValue","setStoredValue","value","valueToStore","Function","setItem","useLocalChanges","changes","setChanges","trackEventType","newLocalChanges","Object","assign","trackNewEvent","newEvents","trackDeletedEvent","deleteEvents","apply","updatedEvents","Array","isArray","updatedEventTypes","useSettings","pollInterval","setPollInterval","showHiddenTypes","setShowHiddenTypes","timeSinceFormat","setTimeSinceFormat","allowOfflineChanges","setAllowOfflineChanges","offlineOnly","setOfflineOnly","EventTypeSelector","props","defaultLabel","evtTypes","nofilter","hidden","name","Form","Group","controlId","inline","as","Row","Label","column","xs","Control","onChange","type","target","className","style","minWidth","description","Text","InlineFormGroup","firstChild","React","Children","toArray","children","createElement","control","cloneElement","trim","label","PageHeading","alerts","alert","text","Alert","variant","dismissible","onClose","TableRow","formatting","noDate","time","event","noBtn","onClick","onDelete","timeSince","GroupRow","fontWeight","colSpan","groupName","FilterCard","Card","border","Header","Body","typeValue","typeChange","newDate","endDateChange","startDateChange","groupBy","groupByChange","NewEventModal","setType","setDate","setTime","handleDismiss","setShow","Modal","show","onHide","dialogClassName","closeButton","Title","newTime","Footer","Button","onSave","History","setStartDate","setEndDate","setGroupBy","showNewEventModal","setShowNewEventModal","forEach","startDatetime","endDatetime","processedRows","rows","filter","row","evtStartDate","datetime","evtEndDate","sort","row1","row2","charAt","currentGroup","monthNames","group","toDateString","weekYear","begin","monthYear","getMonth","tableRows","tableRow","typeId","float","title","onNewEvent","newGroup","Table","striped","bordered","size","NewEventCard","eventButtons","evtClick","width","Home","toLocaleString","updateTime","setUpdateTime","modalInfo","setModalInfo","dayEnd","sortedFilteredRows","length","evtName","evtFormat","evtTime","deleteId","onRefresh","onDeleteEvent","Settings","showTimeSince","setShowTimeSince","min","newVal","onChangePollInterval","disabled","Check","checked","onChangeShowHiddenTypes","onChangeTimeSinceFormat","substring","placeholder","textDecorationLine","onChangeAllowOfflineChanges","onChangeOfflineOnly","_extends","arguments","source","prototype","hasOwnProperty","call","this","_objectWithoutProperties","excluded","sourceKeys","keys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref","svgRef","viewBox","ref","ForwardRef","forwardRef","ChooseClass","classPrefix","rowClasses","classes","rc","getRowClass","setClassName","classOptions","toUpperCase","steps","curStep","cls","join","setFormatting","handleClassChange","isObjectEmpty","obj","entries","constructor","CssColors","colorValue","cssColors","color","colorString","hex","findColor","category","textColor","rgb","g","b","CustomSelect","filterText","setFilterText","showList","setShowList","blurring","setBlurring","findItemName","propValue","handleSelect","hideList","lowerFilter","listItems","items","object","insertGroups","listOptions","onMouseDown","preventDefault","onFocus","onBlur","findItem","emptyString","handleBlur","onKeyDown","val","CssColorSelect","c1","c2","backgroundColor","borderColor","undefined","lowerCaseFilterText","colorStringMatches","categoryMatches","colorItems","lastGroup","colorItem","textAlign","borderStyle","findName","ColorPicker","defaultName","colorName","setColorName","setColorValue","showPicker","setShowPicker","originalColor","reset","setColor","flexDirection","Dialog","display","height","startsWith","getHexColor","stopPropagation","prev","ChooseFontStyle","fontStyle","setFontStyle","fontDecoration","setFontDecoration","setFontWeight","fontColor","setFontColor","fontVariant","setFontVariant","fontSize","setFontSize","decorationOptions","changedDecoration","decoration","handleDecorationChange","weightOptions","w","sizeOptions","s","handleStyleChange","handleWeightChange","handleVariantChange","handleSizeChange","handleColorChange","animations","AnimationSelect","findAnimation","searchText","animation","ChooseRowStyle","getAnimationClass","backColor","setBackColor","setTextAlign","alignOptions","handleAlignChange","FinishPage","RowFormattingWizard","showWizard","setShowWizard","setCurStep","resetWizard","formattingString","breadcrumbs","Breadcrumb","Item","active","href","alt","InputName","required","InputFormatting","InputGroup","Append","CheckDelete","Types","setId","oldId","setOldId","setName","deleteType","setDeleteType","setNewType","alertText","setAlertText","newId","newEvtType","showHidden","newName","newFormatting","newValue","onEditType","handleSubmit","RulesEngineAlerts","DatabaseManagedRoutes","database","localChanges","settings","syncInterval","exitingOfflineOnly","handleEditType","localChangesAllowed","handleNewEvent","timeStr","dateStr","newEvt","generateNewEvent","handleDeleteEvent","dateTime","otherReservedEventIds","newEvtIds","dateNow","timeNow","tryPushLocalChanges","eventTypeChanges","newEventsToPush","syncData","path","exact","render","handleSetOfflineOnly","fill","cx","cy","NavigationBar","navCollapsed","setNavCollapsed","changeCollapsed","toggle","Navbar","expand","bg","expanded","Brand","basename","Toggle","Collapse","Nav","Link","to","About","src","logo","rel","AppRouter","Container","component","Boolean","location","hostname","match","ReactDOM","App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.7bd544c1.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","/**\n * Returns the ISO-formatted string for the local timezone of the specified Date object.\n * @param {Date} date - Date object for which to return the local ISO string.\n * @returns {string} The ISO-formatted string corresponding to the local time of the specified Date.\n */\nexport const getLocalIsoString = function(date) {\n  return new Date(\n    date.getTime() - date.getTimezoneOffset() * 60000\n  ).toISOString();\n};\n\n/**\n * Returns an array containing the local ISO-formatted date and time.\n * @param {Date} date - Date object for which to generate the local ISO strings.\n * @returns {Array<string>} Array containing the local ISO-formatted date (index 0) and time (index 1).\n */\nexport const getLocalIsoDateAndTime = function(date) {\n  const isoString = getLocalIsoString(date);\n  return splitIsoString(isoString);\n};\n\n/**\n * Returns an array containing the date and time.\n * @param {string} isoString - ISO string to split.\n * @returns {Array<string>} Array containing the ISO-formatted date (index 0) and time (index 1).\n */\nexport const splitIsoString = function(isoString) {\n  const dateSplit = isoString.split('T');\n  const timeSplit = dateSplit[1].split('.');\n  return [dateSplit[0], timeSplit[0]];\n};\n\nexport const millisecondsInSecond = 1000;\nexport const secondsInMinute = 60;\nexport const minutesInHour = 60;\nexport const hoursInDay = 24;\nexport const daysInWeek = 7;\nexport const averageDaysInYear = 365.25;\nexport const monthsInYear = 12;\nexport const averageDaysInMonth = averageDaysInYear / monthsInYear;\nexport const weeksInYear = averageDaysInYear / daysInWeek;\nexport const averageWeeksInMonth = weeksInYear / monthsInYear;\nexport const millisecondsInMinute = millisecondsInSecond * secondsInMinute;\nexport const millisecondsInHour = millisecondsInMinute * minutesInHour;\nexport const millisecondsInDay = millisecondsInHour * hoursInDay;\nexport const averageMillisecondsInWeek = millisecondsInDay * daysInWeek;\nexport const averageMillisecondsInMonth =\n  millisecondsInDay * averageDaysInMonth;\nexport const averageMillisecondsInYear = millisecondsInDay * averageDaysInYear;\n\n/**\n * Return the number of milliseconds of the timezone offset for the provided date.\n * @param {Date} date - Date for which to get the offset.\n * @returns {number} Number of milliseconds of the timezone offset.\n */\nexport const getLocalTimezoneOffset = function(date) {\n  return date.getTimezoneOffset() * 60000;\n};\n\n/**\n * Get the datetimes for the beginning of today (local time) and end of today (local time).\n * @returns {Array<number>} Array containing the datetimes (in milliseconds) of the beginning of today (index 0) and end of today (index 1) for the local timezone.\n */\nexport const getTodaysStartAndEndDatetimes = function() {\n  const todaysDate = new Date(getLocalIsoString(new Date()).split('T')[0]); // Get beginning of today UTC\n  const timezoneOffset = getLocalTimezoneOffset(todaysDate);\n  const dayStart = todaysDate.getTime() + timezoneOffset;\n  const dayEnd = dayStart + (millisecondsInDay - 1);\n  return [dayStart, dayEnd];\n};\n\n/**\n * Get the datetimes for the beginning of startDate (local time) and end of endDate (local time).\n * @param {string} startDate - String containing start date formatted as yyyy-mm-dd\n * @param {string} endDate - String containing end date formatted as yyyy-mm-dd\n * @returns {Array<number>} Array containing the datetimes (in milliseconds) of the beginning of startDate (index 0) and end of endDate (index 1) for the local timezone.\n */\nexport const getStartAndEndDatetimes = function(startDate, endDate) {\n  const timezoneOffset = getLocalTimezoneOffset(new Date());\n  const startDatetime = startDate\n    ? new Date(startDate).getTime() + timezoneOffset\n    : null;\n  const endDatetime = endDate\n    ? new Date(endDate).getTime() + timezoneOffset + (millisecondsInDay - 1)\n    : null;\n  return [startDatetime, endDatetime];\n};\n\n/* Source: https://stackoverflow.com/a/6117889\n * ===========================================\n * For a given date, get the ISO week number\n *\n * Based on information at:\n *\n *    http://www.merlyn.demon.co.uk/weekcalc.htm#WNR\n *\n * Algorithm is to find nearest thursday, it's year\n * is the year of the week number. Then get weeks\n * between that date and the first day of that year.\n *\n * Note that dates in one year can be weeks of previous\n * or next year, overlap is up to 3 days.\n *\n * e.g. 2014/12/29 is Monday in week  1 of 2015\n *      2012/1/1   is Sunday in week 52 of 2011\n */\n/**\n * Get the ISO week number and year for a given date. A week is defined as starting on\n * Monday and belongs to whichever year the Thursday resides in.\\\n * Source: https://stackoverflow.com/a/6117889\n * @param {Date} d - Date to get week number of.\n * @returns {Array<number>} Array with the week's year (index 0) and week number (index 1) of the provided date\n */\nexport const getIsoWeekNumber = function(d) {\n  // Copy date so don't modify original\n  d = new Date(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate()));\n  // Set to nearest Thursday: current date + 4 - current day number\n  // Make Sunday's day number 7\n  d.setUTCDate(d.getUTCDate() + 4 - (d.getUTCDay() || 7));\n  // Get first day of year\n  var yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));\n  // Calculate full weeks to nearest Thursday\n  var weekNo = Math.ceil(((d - yearStart) / 86400000 + 1) / 7);\n  // Return array of year and week number\n  return [d.getUTCFullYear(), weekNo];\n};\n\n/**\n * Get the week number and year for a given date. A week is defined as starting on\n * Sunday and belongs to whichever year the Wednesday resides in.\\\n * Based on: https://stackoverflow.com/a/6117889\n * @param {string} dateString - String containing date for which to calculate the week number formatted as yyyy-mm-dd\n * @returns {Array<number>} Array with the week's year (index 0) and week number (index 1) of the provided date\n */\nexport const getWeekNumber = function(dateString) {\n  let d = new Date(dateString);\n  d.setUTCDate(d.getUTCDate() + 4 - (d.getUTCDay() + 1)); // +4 since we're targeting Wednesday, and +1 to make days 1-indexed\n  const year = d.getUTCFullYear();\n  const yearStart = new Date(Date.UTC(year, 0, 1));\n  const weekNo = Math.ceil((d - yearStart) / millisecondsInDay / 7);\n  return [year, weekNo];\n};\n\n/**\n * Get the dates corresponding to the beginning and end of the week that the dateString belongs to.\n * @param {string} dateString - String containing date for which to get the dates of the beginning and end of its week. Formatted as yyy-mm-dd.\n * @returns {Array<Date>} Array containing the date for the beginning of the week (index 0) and the end of the week (index 1)\n */\nexport const getWeekStartAndEnd = function(dateString) {\n  let start = new Date(dateString);\n  start.setUTCDate(start.getUTCDate() - start.getUTCDay());\n  start = new Date(start.getTime() + getLocalTimezoneOffset(start));\n  let end = new Date(start.getTime());\n  end.setUTCDate(end.getUTCDate() + 6);\n  return [start, end];\n};\n\n/**\n * Calculate the amount of time that has passed since a specified date and return it in a human-readable format. It is possible to define a custom format. \\\n * Note: It uses average lengths for everything (e.g. average number of days in a month)\n * @param {Date} datePast - The past date to calculate the time since\n * @param {string} [dateFormat=\"{year}y{day}d\"] - The format to display time since in. Add tokens where you want different time periods to appear. \\\n * Valid tokens are: {year}, {month}, {week}, {day}, {hour}, {minute}, {second}, and {millisecond} \\\n * Defaults to: \"{year}y{day}d\"\n * @returns {string} The time since the specified date occured in a human-readable format defined by the dateFormat.\n */\nexport const getHumanReadableTimeSinceDatetime = function(\n  datePast,\n  dateFormat\n) {\n  let year, month, week, day, hour, minute, second, millisecond;\n  const dateNow = new Date();\n  const difference = dateNow.getTime() - datePast.getTime();\n  let returnValue = dateFormat || '{year}y{day}d';\n  const lowerFormat = returnValue.toLowerCase();\n\n  const yearToken = /{year}/i;\n  const monthToken = /{month}/i;\n  const weekToken = /{week}/i;\n  const dayToken = /{day}/i;\n  const hourToken = /{hour}/i;\n  const minuteToken = /{minute}/i;\n  const secondToken = /{second}/i;\n  const millisecondToken = /{millisecond}/i;\n\n  let remainder = difference;\n  if (lowerFormat.search(yearToken) !== -1) {\n    const years = difference / averageMillisecondsInYear;\n    year = Math.floor(years);\n    returnValue = returnValue.replace(yearToken, year);\n    remainder = remainder - year * averageMillisecondsInYear;\n  }\n  if (lowerFormat.search(monthToken) !== -1) {\n    const months = remainder / averageMillisecondsInMonth;\n    month = Math.floor(months);\n    returnValue = returnValue.replace(monthToken, month);\n    remainder = remainder - month * averageMillisecondsInMonth;\n  }\n  if (lowerFormat.search(weekToken) !== -1) {\n    const weeks = remainder / averageMillisecondsInWeek;\n    week = Math.floor(weeks);\n    returnValue = returnValue.replace(weekToken, week);\n    remainder = remainder - week * averageMillisecondsInWeek;\n  }\n  if (lowerFormat.search(dayToken) !== -1) {\n    const days = remainder / millisecondsInDay;\n    day = Math.floor(days);\n    returnValue = returnValue.replace(dayToken, day);\n    remainder = remainder - day * millisecondsInDay;\n  }\n  if (lowerFormat.search(hourToken) !== -1) {\n    const hours = remainder / millisecondsInHour;\n    hour = Math.floor(hours);\n    returnValue = returnValue.replace(hourToken, hour);\n    remainder = remainder - hour * millisecondsInHour;\n  }\n  if (lowerFormat.search(minuteToken) !== -1) {\n    const minutes = remainder / millisecondsInMinute;\n    minute = Math.floor(minutes);\n    returnValue = returnValue.replace(minuteToken, minute);\n    remainder = remainder - minute * millisecondsInMinute;\n  }\n  if (lowerFormat.search(secondToken) !== -1) {\n    const seconds = remainder / millisecondsInSecond;\n    second = Math.floor(seconds);\n    returnValue = returnValue.replace(secondToken, second);\n    remainder = remainder - second * millisecondsInSecond;\n  }\n  if (lowerFormat.search(millisecondToken) !== -1) {\n    millisecond = remainder;\n    returnValue = returnValue.replace(millisecondToken, millisecond);\n  }\n\n  return returnValue;\n};\n","import { useState } from 'react';\nimport '../helpers/JSDocTypeDefs';\nconst basepath = process.env.REACT_APP_BASE_PATH;\n\n//#region Test Data        TODO: Remove\nconst testDataEventTypes = [\n  { name: '#1', id: '1', lastModified: 1568223239995 },\n  { name: 'test', id: '2', lastModified: 1568223239996 },\n  { name: 'meal', id: '3', lastModified: 1568223239997 },\n  {\n    name: 'Example',\n    id: '4',\n    formatting:\n      '{\"className\":\"table-warning\", \"style\":{\"fontStyle\": \"italic\"}}',\n    lastModified: 1568223239998\n  },\n  {\n    name: 'hidden-example',\n    id: '5',\n    hidden: true,\n    lastModified: 1568223239999\n  },\n  {\n    name: 'Look at me!',\n    id: '6',\n    formatting:\n      '{\"className\":\"ani-loading \",\"style\":{\"fontStyle\":\"italic\",\"textDecorationLine\":\"underline  line-through\",\"fontVariant\":\"small-caps\",\"fontWeight\":\"bold\",\"fontSize\":\"1.25em\",\"color\":\"#0000ff\",\"textAlign\":\"center\"}}',\n    lastModified: 1570558195000\n  }\n];\n\nconst testDataEntries = [\n  { datetime: 1568223240000, event: '1', id: '123' },\n  { datetime: 1568237400000, event: '2', id: '235' },\n  { datetime: 1568240640000, event: '3', id: '332' },\n  { datetime: 1568229546000, event: '4', id: '331' },\n  { datetime: 1568309640000, event: '4', id: '400' },\n  { datetime: 1568323800000, event: '3', id: '404' },\n  { datetime: 1568327040000, event: '2', id: '408' },\n  { datetime: 1568315946000, event: '1', id: '402' },\n  { datetime: 1570558195000, event: '6', id: '409' }\n];\n//#endregion\n\n// TODO: log response when request fails\n\n/** Hook that keeps the state of the data from the database and handles interactions with the database */\nfunction useDatabase() {\n  const [eventTypes, setEventTypes] = useState([]);\n  const [events, setEvents] = useState([]);\n  const [lastSync, setLastSync] = useState();\n  const [notConnected, setNotConnected] = useState(false);\n\n  /**\n   * Attemps to pull the updated lists of event types and events.\n   * @param {Array<EventType>} eventTypeChangeQueue - Array of event types to pass back if it fails to pull changes from the database.\n   * @param {Array<EventObj>} eventChangeQueue - Array of events to pass back if it fails to pull changes from the database.\n   * @returns {[boolean, Array<EventType>, Array<EventObj>]} Array containing whether it succeeds (index 0), the list of event types (index 1), and the list of events (index 2)\n   */\n  async function tryPullChanges(eventTypeChangeQueue, eventChangeQueue) {\n    setLastSync(true);\n    let responseTypes = eventTypeChangeQueue; // TODO: find a better way to handle this\n    let responseEvts = eventChangeQueue;\n    let success = true;\n    try {\n      const typeResponse = await fetch(`${basepath}/api/event-types`);\n      if (typeResponse.ok) responseTypes = await typeResponse.json();\n      else throw new Error('non-success response');\n      const evtResponse = await fetch(`${basepath}/api/events`);\n      if (evtResponse.ok) responseEvts = await evtResponse.json();\n      else throw new Error('non-success response');\n      eventTypeChangeQueue = responseTypes;\n      eventChangeQueue = responseEvts;\n      setLastSync(new Date().getTime());\n    } catch {\n      console.error('Failed to pull changes from the database!');\n      success = false;\n    }\n    return [success, responseTypes, responseEvts];\n  }\n\n  /**\n   * Determine if the event type is new or modified and take the appropriate action in the database.\n   * @param {EventType} eventType - The event type to add/modify.\n   * @returns {boolean} True if the transaction succeeds.\n   */\n  async function tryModifyType(eventType) {\n    let succeeds = true;\n    const index = eventTypes.findIndex(e => e.id === eventType.id);\n    let newType = index === -1;\n    if (newType) {\n      succeeds = tryAddType(eventType);\n    } else {\n      succeeds = tryUpdateType(eventType);\n    }\n    return succeeds;\n  }\n\n  /**\n   * Attempt to add an event type to the database.\n   * @param {EventType} eventType - The event type to add.\n   * @returns {boolean} True if the add succeeds.\n   */\n  async function tryAddType(eventType) {\n    let succeeds = true;\n    try {\n      const url = `${basepath}/api/event-types/${eventType.id}`;\n      const options = {\n        method: 'POST',\n        body: JSON.stringify(eventType),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      };\n      const typeResponse = await fetch(url, options);\n      if (!typeResponse.ok) succeeds = false;\n    } catch {\n      succeeds = false;\n    }\n    return succeeds;\n  }\n\n  /**\n   * Attempt to update an event type in the database.\n   * @param {EventType} eventType - The modified event type to update.\n   * @returns {boolean} True if the update succeeds.\n   */\n  async function tryUpdateType(eventType) {\n    let succeeds = true;\n    try {\n      const url = `${basepath}/api/event-types/${eventType.id}`;\n      const options = {\n        method: 'PUT',\n        body: JSON.stringify(eventType),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      };\n      const typeResponse = await fetch(url, options);\n      if (!typeResponse.ok) succeeds = false;\n    } catch {\n      succeeds = false;\n    }\n    return succeeds;\n  }\n\n  /**\n   * Attempt to add an event to the database.\n   * @param {EventObj} newEvent - The event to add.\n   * @returns {boolean} True if the add succeeds.\n   */\n  async function tryAddEvent(newEvent) {\n    let succeeds = true;\n    try {\n      const url = `${basepath}/api/events/${newEvent.id}`;\n      const options = {\n        method: 'POST',\n        body: JSON.stringify(newEvent),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      };\n      const typeResponse = await fetch(url, options);\n      if (!typeResponse.ok) succeeds = false;\n    } catch {\n      succeeds = false;\n    }\n    return succeeds;\n  }\n\n  /**\n   * Attempt to delete an event from the database.\n   * @param {number} eventId - The ID of the event to delete.\n   * @returns {boolean} True if the delete succeeds.\n   */\n  async function tryDeleteEvent(eventId) {\n    let succeeds = true;\n    try {\n      const url = `${basepath}/api/events/${eventId}`;\n      const options = {\n        method: 'DELETE'\n      };\n      const typeResponse = await fetch(url, options);\n      if (!typeResponse.ok) succeeds = false;\n    } catch {\n      succeeds = false;\n    }\n    return succeeds;\n  }\n\n  /**\n   * Adds/modifies multiple event types in the database.\n   * @param {Array<EventType>} eventTypesToModify - Array of event types to be added to/modified in the database.\n   * @param {Array<EventType>} eventTypeChangeQueue - Working array of event types to be applied after all bulk changes are complete.\n   * @returns {Array<number>} Array of event types that were successfully added to/modified in the database.\n   */\n  function bulkUpdateEventTypes(eventTypesToModify, eventTypeChangeQueue) {\n    let successes = [];\n    const array = eventTypesToModify.slice();\n    // eslint-disable-next-line no-unused-vars\n    for (let evtType of array) {\n      // TODO: maybe update event types in bulk and respond with failures\n      let success = true;\n      const origId = evtType.id;\n      const index = eventTypes.findIndex(e => e.id === evtType.id);\n      const newType = index === -1;\n      // Handle id conflicts\n      const i = eventTypeChangeQueue.find(t => t.id === evtType.id);\n      if (i) {\n        if (newType) {\n          // get the highest existing event id.   TODO: check if there's a more efficient way\n          const ids = eventTypeChangeQueue\n            .map(t => t.id)\n            .concat(eventTypesToModify.map(t => t.id));\n          let max = -1;\n          for (let i of ids) if (i > max) max = i; // eslint-disable-line no-unused-vars\n\n          evtType.id = String(Number(max) + 1);\n        } else if (i.lastModified > evtType.lastModified) {\n          const index = eventTypesToModify.indexOf(evtType);\n          eventTypesToModify.splice(index, 1);\n          continue;\n        }\n      }\n\n      if (newType) {\n        success = tryAddType(evtType);\n      } else {\n        success = tryUpdateType(evtType);\n      }\n      if (success) {\n        const idx = eventTypesToModify.findIndex(t => t.id === origId);\n        successes.push(eventTypesToModify.splice(idx, 1)[0]);\n      }\n    }\n    return successes;\n  }\n\n  /**\n   * Adds multiple events to the database.\n   * @param {Array<EventObj>} eventsToAdd - Array of events to be added to the database.\n   * @returns {Array<EventObj>} Array of events that were successfully added to the database.\n   */\n  function bulkAddEvents(eventsToAdd) {\n    let successes = [];\n    const array = eventsToAdd.slice();\n    // eslint-disable-next-line no-unused-vars\n    for (let evt of array) {\n      // TODO: maybe add events in bulk and respond with failures\n      if (tryAddEvent(evt)) {\n        const index = eventsToAdd.indexOf(evt);\n        successes.push(eventsToAdd.splice(index, 1)[0]);\n      }\n    }\n    return successes;\n  }\n\n  /**\n   * Deletes multiple events from the database.\n   * @param {Array<number>} eventsToDelete - List of ID's of the events to be deleted from the database.\n   * @param {Array<EventObj>} eventChangeQueue - Working array of the events to be applied after all bulk changes are complete.\n   * @returns {Array<number>} Array of ID's of the events that were successfully deleted from the database.\n   */\n  function bulkDeleteEvents(eventsToDelete, eventChangeQueue) {\n    let successes = [];\n    const array = eventsToDelete.slice();\n    // eslint-disable-next-line no-unused-vars\n    for (let id of array) {\n      // skip delete if event has been updated since last sync\n      const i = eventChangeQueue.findIndex(\n        e => e.id === id && e.lastModified > lastSync\n      );\n      if (i !== -1) {\n        const index = eventsToDelete.indexOf(id);\n        eventsToDelete.splice(index, 1);\n        continue;\n      }\n      // TODO: maybe delete events in bulk and respond with failures\n      if (tryDeleteEvent(id)) {\n        const index = eventsToDelete.indexOf(id);\n        successes.push(eventsToDelete.splice(index, 1)[0]);\n      }\n    }\n    return successes;\n  }\n\n  /**\n   * Modify/add the specified event types in the local memory (RAM) copy of the event types.\n   * @param {Array<EventType>} eventTypesToModify - Array of modified/new event types to change in RAM.\n   * @param {Array<EventType>} [eventTypeChangeQueue] - The working array of event types to be applied after all bulk changes are finished.\n   * @returns {void|Array<EventType>} Returns the updated eventChangeQueue if one is specified.\n   */\n  function updateEventTypesInRAM(eventTypesToModify, eventTypeChangeQueue) {\n    let types = eventTypes.slice();\n    // eslint-disable-next-line no-unused-vars\n    for (let eType of eventTypesToModify) {\n      const index = types.findIndex(t => t.id === eType.id);\n      if (index >= 0) {\n        types.splice(index, 1, eType);\n      } else {\n        types.push(eType);\n      }\n    }\n    if (!eventTypeChangeQueue) {\n      setEventTypes(types);\n    } else {\n      return types;\n    }\n  }\n\n  /**\n   * Add the specified events to the local memory (RAM) copy of the events.\n   * @param {Array<EventObj>} eventsToAdd - Array of events to add to RAM.\n   * @param {Array<EventObj>} [eventChangeQueue] - The working array of events to be applied after all bulk changes are finished.\n   * @returns {void|Array<EventObj>} Returns the updated eventChangeQueue if one is specified.\n   */\n  function addNewEventsToRAM(eventsToAdd, eventChangeQueue) {\n    if (!eventChangeQueue) {\n      setEvents(events.concat(eventsToAdd));\n    } else {\n      return eventChangeQueue.concat(eventsToAdd);\n    }\n  }\n\n  /**\n   * Delete the specified events from the local memory (RAM) copy of the events.\n   * @param {Array<number>} eventsToDelete - Array of ID's of events to delete from RAM.\n   * @param {boolean} [isBulkChange] - Set to true if this is part of a bulk change.\n   * @returns {void|Array<EventObj>} Returns the array of events after deleting the events specified if isBulkChange is true.\n   */\n  function deleteEventsFromRAM(eventsToDelete, isBulkChange) {\n    const resultRows = events.slice();\n    // eslint-disable-next-line no-unused-vars\n    for (let id of eventsToDelete) {\n      const index = resultRows.findIndex(r => r.id === id);\n      resultRows.splice(index, 1);\n    }\n    if (!isBulkChange) {\n      setEvents(resultRows);\n    } else {\n      return resultRows;\n    }\n  }\n\n  return {\n    events: events,\n    eventTypes: eventTypes,\n    lastSync: lastSync,\n    notConnected: notConnected,\n    setEvents: setEvents, // TODO: maybe don't directly expose these\n    setEventTypes: setEventTypes,\n    setNotConnected: setNotConnected, // TODO: handle this internally instead of passing it out\n    updateEventTypesInRAM: updateEventTypesInRAM,\n    addNewEventsToRAM: addNewEventsToRAM,\n    deleteEventsFromRAM: deleteEventsFromRAM,\n    bulkUpdateEventTypes: bulkUpdateEventTypes,\n    bulkDeleteEvents: bulkDeleteEvents,\n    bulkAddEvents: bulkAddEvents,\n    tryPullChanges: tryPullChanges,\n    tryModifyType: tryModifyType,\n    tryAddEvent: tryAddEvent,\n    tryDeleteEvent: tryDeleteEvent\n  };\n}\n\nexport default useDatabase;\n","import { useEffect, useRef } from 'react';\n\n/**\n * Hook that sets up, maintains, and cleans up an interval.   \\\n * Source: https://overreacted.io/making-setinterval-declarative-with-react-hooks/\n * @param {Function} callback - The function to call after delay\n * @param {number} delay - The delay of the interval in milliseconds. Passing null pauses it.\n */\nfunction useInterval(callback, delay) {\n  const savedCallback = useRef();\n\n  // Remember the latest callback.\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  // Set up the interval.\n  useEffect(() => {\n    function tick() {\n      savedCallback.current();\n    }\n    if (delay !== null) {\n      let id = setInterval(tick, delay);\n      return () => clearInterval(id);\n    }\n  }, [delay]);\n}\n\nexport default useInterval;\n","import { useState } from 'react';\n\n/**\n * Hook that allows you to use local storage similar to useState   \\\n * Source: https://usehooks.com/useLocalStorage/\n * @param {string} key - the local storage key to use\n * @param {*} initialValue - the value to use if the key isn't present in local storage\n * @returns {[*, (newValue)=>void]} array containing the variable (index 0) and the function to set the variable (index 1)\n */\nfunction useLocalStorage(key, initialValue) {\n  // State to store our value\n  // Pass initial state function to useState so logic is only executed once\n  const [storedValue, setStoredValue] = useState(() => {\n    try {\n      // Get from local storage by key\n      const item = window.localStorage.getItem(key);\n      // Parse stored json or if none return initialValue\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      // If error also return initialValue\n      console.log(error);\n      return initialValue;\n    }\n  });\n\n  // Return a wrapped version of useState's setter function that ...\n  // ... persists the new value to localStorage.\n  const setValue = value => {\n    try {\n      // Allow value to be a function so we have same API as useState\n      const valueToStore =\n        value instanceof Function ? value(storedValue) : value;\n      // Save state\n      setStoredValue(valueToStore);\n      // Save to local storage\n      window.localStorage.setItem(key, JSON.stringify(valueToStore));\n    } catch (error) {\n      // A more advanced implementation would handle the error case\n      console.log(error);\n    }\n  };\n\n  return [storedValue, setValue];\n}\n\nexport default useLocalStorage;\n","import useLocalStorage from '../hooks/useLocalStorage';\n\n/**\n * Hook that tracks and applies changes in the local storage.\n */\nfunction useLocalChanges() {\n  /** @type {[LocalChangesObj, (localChanges:LocalChangesObj)=>void]} */\n  const [changes, setChanges] = useLocalStorage('local-changes', null);\n\n  /**\n   * Track modifications to the event type in the local changes.\n   * @param {EventType} eventType - The event type (after modifications) to be tracked in the local changes.\n   */\n  function trackEventType(eventType) {\n    let newLocalChanges = Object.assign({}, changes || {});\n    if (!newLocalChanges.eventTypes) newLocalChanges.eventTypes = [];\n\n    // Remove event type with same ID in local changes\n    const idx = newLocalChanges.eventTypes.findIndex(\n      e => e.id === eventType.id\n    );\n    if (idx !== -1) newLocalChanges.eventTypes.splice(idx, 1);\n\n    // Add new/modified event type to local changes\n    newLocalChanges.eventTypes.push(eventType);\n    setChanges(newLocalChanges);\n  }\n\n  /**\n   * Track new event in the local changes.\n   * @param {EventObj} newEvent - The new event that should be added to the local changes.\n   */\n  function trackNewEvent(newEvent) {\n    let newLocalChanges = Object.assign({}, changes || {});\n    if (!newLocalChanges.newEvents) newLocalChanges.newEvents = [];\n    newLocalChanges.newEvents.push(newEvent);\n    setChanges(newLocalChanges);\n  }\n\n  /**\n   * Track deleted event in the local changes.\n   * @param {number} eventId - The ID of the event that should be deleted in the local changes.\n   */\n  function trackDeletedEvent(eventId) {\n    let newLocalChanges = Object.assign({}, changes || {});\n\n    // make sure the id doesn't correspond to an id in the newEvents changes\n    let index = -2;\n    if (newLocalChanges && newLocalChanges.newEvents) {\n      index = newLocalChanges.newEvents.findIndex(evt => evt.id === eventId);\n    }\n\n    if (index >= 0) {\n      // event is in localChanges as new event, so we remove it\n      newLocalChanges.newEvents.splice(index, 1);\n    } else {\n      if (!newLocalChanges.deleteEvents) newLocalChanges.deleteEvents = [];\n      newLocalChanges.deleteEvents.push(eventId);\n    }\n    setChanges(newLocalChanges);\n  }\n\n  /**\n   * Apply the local changes to the events and event types provided.\n   * @param {Array<EventObj>} events - The array of events to apply the local changes to.\n   * @param {Array<EventType>} eventTypes - The array of event types to apply the local changes to.\n   * @returns {[Array<EventObj>, Array<EventType>]} Array containing the modified events (index 0) and event types (index 1)\n   */\n  function apply(events, eventTypes) {\n    let updatedEvents = Array.isArray(events) ? events.slice() : [];\n    let updatedEventTypes = Array.isArray(eventTypes) ? eventTypes.slice() : [];\n    if (changes) {\n      if (changes.newEvents) {\n        updatedEvents = updatedEvents.concat(changes.newEvents);\n      }\n      if (changes.deleteEvents) {\n        // eslint-disable-next-line no-unused-vars\n        for (let id of changes.deleteEvents) {\n          const index = updatedEvents.findIndex(evt => evt.id === id);\n          if (index >= 0) updatedEvents.splice(index, 1);\n        }\n      }\n      if (changes.eventTypes) {\n        // eslint-disable-next-line no-unused-vars\n        for (let eType of changes.eventTypes) {\n          const index = updatedEventTypes.findIndex(t => t.id === eType.id);\n          if (index >= 0) {\n            updatedEventTypes.splice(index, 1, eType);\n          } else {\n            updatedEventTypes.push(eType);\n          }\n        }\n      }\n    }\n    return [updatedEvents, updatedEventTypes];\n  }\n\n  return {\n    changes: changes,\n    setChanges: setChanges,\n    trackEventType: trackEventType,\n    trackNewEvent: trackNewEvent,\n    trackDeletedEvent: trackDeletedEvent,\n    apply: apply\n  };\n}\n\nexport default useLocalChanges;\n","import useLocalStorage from '../hooks/useLocalStorage';\n\n/**\n * Hook to manage the settings and local storage.\n * @returns {{\n *    pollInterval:number,\n *    setPollInterval:(pollInterval:number)=>void,\n *    showHiddenTypes:boolean,\n *    setShowHiddenTypes:(showHiddenTypes:boolean)=>void,\n *    timeSinceFormat:string|boolean,\n *    setTimeSinceFormat:(timeSinceFormat:string|boolean)=>void,\n *    allowOfflineChanges:boolean,\n *    setAllowOfflineChanges:(allowOfflineChanges:boolean)=>void,\n *    offlineOnly:boolean,\n *    setOfflineOnly:(offlineOnly:boolean)=>void\n * }} Object with settings and their setters.\n */\nfunction useSettings() {\n  const [pollInterval, setPollInterval] = useLocalStorage('poll-interval', 0);\n  const [showHiddenTypes, setShowHiddenTypes] = useLocalStorage(\n    'show-hidden-types',\n    false\n  );\n  const [timeSinceFormat, setTimeSinceFormat] = useLocalStorage(\n    'time-since-format',\n    false\n  );\n  const [allowOfflineChanges, setAllowOfflineChanges] = useLocalStorage(\n    'allow-offline-changes',\n    false\n  );\n  const [offlineOnly, setOfflineOnly] = useLocalStorage(\n    'offline-only',\n    process.env.REACT_APP_SETTINGS_DEFAULTS_OFFLINEONLY\n  );\n\n  return {\n    pollInterval: pollInterval,\n    setPollInterval: setPollInterval,\n    showHiddenTypes: showHiddenTypes,\n    setShowHiddenTypes: setShowHiddenTypes,\n    timeSinceFormat: timeSinceFormat,\n    setTimeSinceFormat: setTimeSinceFormat,\n    allowOfflineChanges: allowOfflineChanges,\n    setAllowOfflineChanges: setAllowOfflineChanges,\n    offlineOnly: offlineOnly,\n    setOfflineOnly: setOfflineOnly\n  };\n}\n\nexport default useSettings;\n","import React from 'react';\nimport Form from 'react-bootstrap/Form';\nimport Row from 'react-bootstrap/Row';\n\n/**\n * Form Selector for Event Types. Adds a default value (empty string) as the first option.\n * @param {Object} props - properties for the component\n * @param {{id:string, name:string}[]} props.evtTypes - Array of event types\n * @param {string} props.value - The selected value (id of event type)\n * @param {(evtType:{id:string, name:string})=>void} props.onChange - The function to run when the value changes\n * @param {string} [props.defaultLabel=\"Create New\"] - The label to show for the default value (defaults to 'Create New')\n * @param {string} [props.description] - An optional description to display below the field\n * @param {boolean} [props.inline] - Make the form group one line. Defaults to false\n * @param {boolean} [props.nofilter] - Don't filter out hidden event types\n */\nfunction EventTypeSelector(props) {\n  const defaultLabel = props.defaultLabel || 'Create New';\n  let evtTypes = props.evtTypes.map(evt => {\n    return (\n      (props.nofilter || !evt.hidden) && (\n        <option value={evt.id} key={evt.id}>\n          {evt.name}\n        </option>\n      )\n    );\n  });\n\n  function handleChange(evt) {\n    let type = props.evtTypes.find(t => t.id == evt.target.value); // eslint-disable-line eqeqeq\n    props.onChange(type || {});\n  }\n\n  return (\n    <Form.Group controlId=\"chooseType\" {...(props.inline && { as: Row })}>\n      <Form.Label {...(props.inline && { column: true, xs: 'auto' })}>\n        Event Type\n      </Form.Label>\n      <Form.Control\n        as=\"select\"\n        value={props.value}\n        onChange={handleChange}\n        {...(props.inline && {\n          className: 'col mx-3',\n          style: { minWidth: '9rem' }\n        })}\n      >\n        <option value=\"\">{`--- ${defaultLabel} ---`}</option>\n        {evtTypes}\n      </Form.Control>\n      {props.description && (\n        <Form.Text as=\"small\" className=\"text-muted\">\n          {props.description}\n        </Form.Text>\n      )}\n    </Form.Group>\n  );\n}\n\nexport default EventTypeSelector;\n","import React from 'react';\nimport Form from 'react-bootstrap/Form';\nimport Row from 'react-bootstrap/Row';\n\n/**\n * Creates a responsive, inline form group.\n * @param {Object} props - the props object for InlineFormGroup\n * @param {string} props.controlId - the id for the control\n * @param {string} props.label - The label for the form group\n * @param {React.ReactNode} props.children - The control element for the form group (this is set by adding a control inside this element, not by passing it as a prop)\n * @param {string} [props.className] - Class(es) to apply to the form group\n * @param {Object} [props.style] - Style object to apply to the form group\n */\nfunction InlineFormGroup(props) {\n  let firstChild = React.Children.toArray(props.children)[0]; // if more than one child is passed, only keep the first\n  if (!firstChild)\n    firstChild = React.createElement(\n      'text',\n      null,\n      'No children specified for the InlineFormGroup'\n    );\n  const control = React.cloneElement(firstChild, {\n    className: ('col mx-3 ' + firstChild.props.className).trim()\n  });\n  return (\n    <Form.Group\n      as={Row}\n      controlId={props.controlId}\n      style={props.style}\n      className={props.className}\n    >\n      <Form.Label column xs=\"auto\">\n        {props.label}\n      </Form.Label>\n      {control}\n    </Form.Group>\n  );\n}\n\nexport default InlineFormGroup;\n","import React from 'react';\nimport Alert from 'react-bootstrap/Alert';\n\nfunction PageHeading(props) {\n  let alerts = [];\n  if (props.alerts)\n    alerts = props.alerts.map(alert => {\n      return (\n        alert.text && (\n          <Alert\n            variant={alert.type || 'info'}\n            dismissible={!!alert.dismissible}\n            onClose={alert.onClose || null}\n          >\n            {alert.text}\n          </Alert>\n        )\n      );\n    });\n  return (\n    <>\n      {alerts}\n      <h3 className=\"my-3\">{props.children}</h3>\n    </>\n  );\n}\n\nexport default PageHeading;\n","import React from 'react';\nimport '../styles/Table.css';\n\n/**\n * Returns one row of a table for an event.\n * @param {Object} props - Properties for the TableRow\n * @param {boolean} props.noDate - set true to not render the Date column\n * @param {boolean} props.noBtn - set true to not render the delete button column\n * @param {string} props.formatting - JSON serialization of Object containing the properties for the row (e.g. className, style, etc)\n * @param {string} props.date - date of the event\n * @param {string} props.time - time of the event\n * @param {string} props.event - name of the event\n * @param {string} [props.timeSince] - time since the event occurred\n * @param {(evt:React.MouseEvent<HTMLButtonElement, MouseEvent>)=>void} props.onDelete - function to run when the delete button is clicked\n */\nfunction TableRow(props) {\n  return (\n    <tr {...(props.formatting && JSON.parse(props.formatting))}>\n      {!props.noDate && <td className=\"small-col\">{props.date}</td>}\n      <td className=\"small-col\">{props.time}</td>\n      <td className=\"big-col\">{props.event}</td>\n      {!props.noBtn && (\n        <td className=\"btn-col\">\n          {props.time !== '' && ( // if there's no time, it's probably the placeholder row, so don't render the button\n            <button className=\"text-danger symbol\" onClick={props.onDelete}>\n              <span>&times;</span>\n            </button>\n          )}\n        </td>\n      )}\n      {props.timeSince && <td className=\"small-col\">{props.timeSince}</td>}\n    </tr>\n  );\n}\n\nexport default TableRow;\n","import React, { useState } from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Card from 'react-bootstrap/Card';\nimport Form from 'react-bootstrap/Form';\nimport Modal from 'react-bootstrap/Modal';\nimport Table from 'react-bootstrap/Table';\nimport EventTypeSelector from '../components/FormElements/EventTypeSelector';\nimport InlineFormGroup from '../components/FormElements/InlineFormGroup';\nimport PageHeading from '../components/PageHeading';\nimport TableRow from '../components/TableRow';\nimport { getHumanReadableTimeSinceDatetime, getLocalIsoDateAndTime, getLocalIsoString, getStartAndEndDatetimes, getWeekNumber, getWeekStartAndEnd } from '../helpers/TimeHelpers';\nimport '../styles/Modal.css';\nimport '../styles/Table.css';\n\nfunction History(props) {\n  const [type, setType] = useState('');\n  const [startDate, setStartDate] = useState('2000-01-01');\n  const [endDate, setEndDate] = useState(\n    getLocalIsoString(new Date()).split('T')[0]\n  );\n  const [groupBy, setGroupBy] = useState('');\n  const [showNewEventModal, setShowNewEventModal] = useState(false);\n\n  const eventTypes = {};\n  props.evtTypes.forEach(type => {\n    eventTypes[type.id] = {\n      name: type.name,\n      formatting: type.formatting\n    };\n  });\n\n  // filter rows and sort descending by date and time\n  const [startDatetime, endDatetime] = getStartAndEndDatetimes(\n    startDate,\n    endDate\n  );\n  let processedRows = props.rows\n    .filter(row => {\n      const evtType = type ? row.event === type : true;\n      const evtStartDate = startDatetime ? row.datetime >= startDatetime : true;\n      const evtEndDate = endDatetime ? row.datetime <= endDatetime : true;\n      return evtType && evtStartDate && evtEndDate;\n    })\n    .sort((row1, row2) => row2.datetime - row1.datetime);\n  if (\n    props.timeSinceFormat &&\n    (typeof props.timeSinceFormat === 'boolean' ||\n      props.timeSinceFormat.charAt(0) !== '►')\n  )\n    processedRows = processedRows.map(row => {\n      return {\n        timeSince: getHumanReadableTimeSinceDatetime(\n          new Date(row.datetime),\n          typeof props.timeSinceFormat === 'string' ? props.timeSinceFormat : ''\n        ),\n        ...row\n      };\n    });\n\n  // add grouping rows\n  let currentGroup = '';\n  const monthNames = [\n    'January',\n    'February',\n    'March',\n    'April',\n    'May',\n    'June',\n    'July',\n    'August',\n    'September',\n    'October',\n    'November',\n    'December'\n  ]; // TODO: use internationalization API once it's more supported (https://stackoverflow.com/a/18648314) (https://caniuse.com/#search=intl)\n  processedRows.forEach((row, index) => {\n    if (groupBy) {\n      let date, day;\n      switch (groupBy) {\n        case 'day':\n          date = new Date(row.datetime);\n          [day] = getLocalIsoDateAndTime(date);\n          if (currentGroup !== day) {\n            currentGroup = day;\n            processedRows.splice(index, 0, {\n              group: date.toDateString()\n            });\n          }\n          break;\n        case 'week':\n          date = new Date(row.datetime);\n          [day] = getLocalIsoDateAndTime(date);\n          const [wYear, wNo] = getWeekNumber(day);\n          const weekYear = wYear + '-' + wNo;\n          if (currentGroup !== weekYear) {\n            currentGroup = weekYear;\n            const [begin, end] = getWeekStartAndEnd(day);\n            processedRows.splice(index, 0, {\n              group: `Week of: ${begin.toDateString()} - ${end.toDateString()}`\n            });\n          }\n          break;\n        case 'month':\n          date = new Date(row.datetime);\n          [day] = getLocalIsoDateAndTime(date);\n          const monthYear = day.slice(0, 7);\n          if (currentGroup !== monthYear) {\n            currentGroup = monthYear;\n            processedRows.splice(index, 0, {\n              group: monthNames[date.getMonth()] + ' ' + day.split('-')[0]\n            });\n          }\n          break;\n        case 'year':\n          date = new Date(row.datetime);\n          [day] = getLocalIsoDateAndTime(date);\n          const year = day.split('-')[0];\n          if (currentGroup !== year) {\n            currentGroup = year;\n            processedRows.splice(index, 0, {\n              group: year\n            });\n          }\n          break;\n        default:\n          break;\n      }\n    }\n  });\n\n  // convert rows to JSX\n  const tableRows = processedRows.map(row => {\n    let tableRow;\n    if (row.group) {\n      tableRow = <GroupRow groupName={row.group} />;\n    } else {\n      const [date, time] = getLocalIsoDateAndTime(new Date(row.datetime));\n      tableRow = (\n        <TableRow\n          noBtn\n          date={date}\n          time={time}\n          event={eventTypes[row.typeId || row.event].name}\n          timeSince={row.timeSince}\n          formatting={eventTypes[row.typeId || row.event].formatting}\n          key={row.id}\n        />\n      );\n    }\n    return tableRow;\n  });\n\n  return (\n    <>\n      <PageHeading>\n        Event History\n        <Button\n          variant=\"secondary\"\n          style={{ float: 'right' }}\n          onClick={() => setShowNewEventModal(true)}\n          title=\"Add Historical Event\"\n        >\n          Add Event\n        </Button>\n      </PageHeading>\n      <NewEventModal\n        show={showNewEventModal}\n        setShow={setShowNewEventModal}\n        onSave={props.onNewEvent}\n        eventTypes={props.evtTypes}\n      />\n      <FilterCard\n        eventTypes={props.evtTypes}\n        typeValue={type}\n        typeChange={newType => setType(newType)}\n        startDate={startDate}\n        startDateChange={newDate => setStartDate(newDate)}\n        endDate={endDate}\n        endDateChange={newDate => setEndDate(newDate)}\n        groupBy={groupBy}\n        groupByChange={newGroup => setGroupBy(newGroup)}\n      />\n      <Table striped bordered size=\"sm\" className=\"mt-2\">\n        <thead>\n          <tr>\n            <th className=\"small-col\">Date</th>\n            <th className=\"small-col\">Time</th>\n            <th className=\"big-col\">Event</th>\n            {props.timeSinceFormat &&\n              (typeof props.timeSinceFormat === 'boolean' ||\n                props.timeSinceFormat.charAt(0) !== '►') && (\n                <th className=\"small-col\">Time Since</th>\n              )}\n          </tr>\n        </thead>\n        <tbody>{tableRows}</tbody>\n      </Table>\n    </>\n  );\n}\n\nfunction GroupRow(props) {\n  return (\n    <tr className=\"table-dark\" style={{ fontWeight: 'bold' }}>\n      <td colSpan=\"3\">{props.groupName}</td>\n    </tr>\n  );\n}\n\nfunction FilterCard(props) {\n  return (\n    <Card border=\"primary\">\n      <Card.Header>Filter Events:</Card.Header>\n      <Card.Body>\n        <Form>\n          <EventTypeSelector\n            evtTypes={props.eventTypes}\n            value={props.typeValue}\n            onChange={newType => props.typeChange(newType.id)}\n            defaultLabel=\"Any Event Type\"\n            inline\n          />\n          <InlineFormGroup controlId=\"inputEndDate\" label=\"Newest Date\">\n            <Form.Control\n              type=\"date\"\n              value={props.endDate}\n              onChange={newDate => props.endDateChange(newDate.target.value)}\n            />\n          </InlineFormGroup>\n          <InlineFormGroup controlId=\"inputStartDate\" label=\"Oldest Date\">\n            <Form.Control\n              type=\"date\"\n              value={props.startDate}\n              onChange={newDate => props.startDateChange(newDate.target.value)}\n            />\n          </InlineFormGroup>\n          <InlineFormGroup controlId=\"chooseGrouping\" label=\"Group By\">\n            <Form.Control\n              as=\"select\"\n              value={props.groupBy}\n              // TODO: be more consistent with my anonymous handler function naming and structure\n              onChange={evt => props.groupByChange(evt.target.value)}\n              style={{ minWidth: '9rem' }}\n            >\n              <option value=\"\">{'--- None ---'}</option>\n              <option value=\"day\">{'Day'}</option>\n              <option value=\"week\">{'Week'}</option>\n              <option value=\"month\">{'Month & Year'}</option>\n              <option value=\"year\">{'Year'}</option>\n            </Form.Control>\n          </InlineFormGroup>\n          {/* TODO: Time range? */}\n        </Form>\n      </Card.Body>\n    </Card>\n  );\n}\n\n// props: show, setShow, eventTypes, onSave\nfunction NewEventModal(props) {\n  const [type, setType] = useState();\n  const [date, setDate] = useState();\n  const [time, setTime] = useState();\n\n  function handleDismiss(evt) {\n    setType();\n    setDate();\n    setTime();\n    props.setShow(false);\n  }\n\n  function handleSave(evt) {\n    props.onSave(type, time, date);\n    handleDismiss();\n  }\n\n  return (\n    <Modal show={props.show} onHide={handleDismiss} dialogClassName=\"modal-w\">\n      <Modal.Header closeButton>\n        <Modal.Title>Add Historical Event</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <Form>\n          <EventTypeSelector\n            evtTypes={props.eventTypes}\n            value={type}\n            onChange={newType => setType(newType.id)}\n            defaultLabel=\"Pick Event Type\"\n            inline\n          />\n          <InlineFormGroup controlId=\"inputDate\" label=\"Date\">\n            <Form.Control\n              type=\"date\"\n              value={date}\n              onChange={newDate => setDate(newDate.target.value)}\n            />\n          </InlineFormGroup>\n          <InlineFormGroup controlId=\"inputTime\" label=\"Time:\">\n            <Form.Control\n              type=\"time\"\n              value={time}\n              onChange={newTime => setTime(newTime.target.value)}\n            />\n          </InlineFormGroup>\n        </Form>\n      </Modal.Body>\n      <Modal.Footer className=\"row justify-content-around\">\n        <Button\n          variant=\"secondary\"\n          className=\"col-md-3 col-5\"\n          onClick={handleDismiss}\n        >\n          Cancel\n        </Button>\n        <Button\n          variant=\"primary\"\n          className=\"col-md-3 col-5\"\n          onClick={handleSave}\n        >\n          Save\n        </Button>\n      </Modal.Footer>\n    </Modal>\n  );\n}\n\nexport default History;\n","import React, { useEffect, useState } from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Card from 'react-bootstrap/Card';\nimport Form from 'react-bootstrap/Form';\nimport Modal from 'react-bootstrap/Modal';\nimport Row from 'react-bootstrap/Row';\nimport Table from 'react-bootstrap/Table';\nimport InlineFormGroup from '../components/FormElements/InlineFormGroup';\nimport PageHeading from '../components/PageHeading';\nimport TableRow from '../components/TableRow';\nimport { getLocalIsoDateAndTime, getTodaysStartAndEndDatetimes } from '../helpers/TimeHelpers';\nimport '../styles/Modal.css';\nimport '../styles/Table.css';\n\nfunction Home(props) {\n  const [updateTime, setUpdateTime] = useState(new Date().toLocaleString());\n  const [modalInfo, setModalInfo] = useState('');\n\n  useEffect(() => {\n    setUpdateTime(new Date().toLocaleString());\n  }, [props.rows, props.evtTypes]);\n\n  const eventTypes = {};\n  props.evtTypes.forEach(type => {\n    eventTypes[type.id] = {\n      name: type.name,\n      formatting: type.formatting\n    };\n  });\n\n  const [dayStart, dayEnd] = getTodaysStartAndEndDatetimes();\n  let sortedFilteredRows = props.rows\n    .filter(row => {\n      return dayStart <= row.datetime && row.datetime <= dayEnd;\n    })\n    .sort(\n      (row1, row2) => row2.datetime - row1.datetime // sort descending by date and time\n    );\n\n  // if there are no rows, insert a placeholder row\n  if (!sortedFilteredRows.length)\n    sortedFilteredRows = [\n      {\n        evtName: 'No Events yet for today',\n        evtFormat:\n          '{ ' +\n          '  \"className\":\"table-active\", ' +\n          '  \"style\": { ' +\n          '    \"fontStyle\":\"italic\", ' +\n          '    \"textAlign\":\"center\" ' +\n          '  }' +\n          '}',\n        id: '',\n        datetime: ''\n      }\n    ];\n\n  const tableRows = sortedFilteredRows.map(row => {\n    let evtName, evtFormat, evtTime;\n    if (row.evtName && row.evtFormat) {\n      evtName = row.evtName;\n      evtFormat = row.evtFormat;\n    } else {\n      let id = row.typeId || row.event;\n      evtName = eventTypes[id].name;\n      evtFormat = eventTypes[id].formatting;\n    }\n    evtTime = row.datetime\n      ? getLocalIsoDateAndTime(new Date(row.datetime))[1]\n      : '';\n    return (\n      <TableRow\n        noDate\n        time={evtTime}\n        event={evtName}\n        formatting={evtFormat}\n        onDelete={() =>\n          setModalInfo({\n            deleteId: row.id,\n            text: (\n              <>\n                {'Are you sure you want to delete '}\n                <strong>{evtName}</strong>\n                {' at '}\n                <strong>{evtTime}</strong>?\n              </>\n            )\n          })\n        }\n        key={row.id}\n      />\n    );\n  });\n\n  return (\n    <>\n      <PageHeading></PageHeading>\n      <h5 className=\"mt-3\">\n        {'Page last updated: '}\n        <small className=\"text-muted\">{updateTime}</small>\n        {!props.offlineOnly && (\n          <Button\n            variant=\"secondary\"\n            size=\"sm\"\n            style={{ float: 'right' }}\n            onClick={props.onRefresh}\n            title=\"Refresh the event list\"\n          >\n            Refresh\n          </Button>\n        )}\n      </h5>\n      <NewEventCard eventTypes={props.evtTypes} evtClick={props.onNewEvent} />\n      <Table striped bordered size=\"sm\" className=\"mt-2\">\n        <thead>\n          <tr>\n            <th className=\"small-col\">Time</th>\n            <th className=\"big-col\">Event</th>\n            <th className=\"symbol\">&times;</th>\n          </tr>\n        </thead>\n        <tbody>{tableRows}</tbody>\n      </Table>\n\n      <Modal show={!!modalInfo}>\n        <Modal.Header>\n          <Modal.Title>Are you sure?</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>{modalInfo.text}</Modal.Body>\n        <Modal.Footer className=\"row justify-content-around\">\n          <Button\n            variant=\"danger\"\n            className=\"col-md-3 col-5\"\n            onClick={() => {\n              props.onDeleteEvent(modalInfo.deleteId);\n              setModalInfo('');\n            }}\n          >\n            Yes\n          </Button>\n          <Button\n            variant=\"primary\"\n            className=\"col-md-3 col-5\"\n            onClick={() => setModalInfo('')}\n          >\n            No\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n}\n\nfunction NewEventCard(props) {\n  const [time, setTime] = useState('');\n\n  function handleNewEvent(id) {\n    props.evtClick(id, time && time);\n    setTime('');\n  }\n\n  const eventButtons = props.eventTypes.map(evt => {\n    return (\n      !evt.hidden && (\n        <Button\n          variant=\"secondary\"\n          title={'New ' + evt.name}\n          key={evt.id}\n          onClick={() => handleNewEvent(evt.id)}\n          style={{ width: '100%' }}\n          className=\"col-lg-2 col-md-3 col-sm-4 col-6\"\n        >\n          {evt.name}\n        </Button>\n      )\n    );\n  });\n  return (\n    <Card border=\"primary\">\n      <Card.Header>New Events:</Card.Header>\n      <Card.Body>\n        <Form>\n          <InlineFormGroup controlId=\"inputTime\" label=\"Time (if not now):\">\n            <Form.Control\n              type=\"time\"\n              value={time}\n              onChange={newTime => setTime(newTime.target.value)}\n            />\n          </InlineFormGroup>\n          <Row>{eventButtons}</Row>\n        </Form>\n      </Card.Body>\n    </Card>\n  );\n}\n\nexport default Home;\n","import React, { useState } from 'react';\nimport Card from 'react-bootstrap/Card';\nimport Form from 'react-bootstrap/Form';\nimport InlineFormGroup from '../components/FormElements/InlineFormGroup';\nimport PageHeading from '../components/PageHeading';\nimport '../styles/Settings.css';\n\nfunction Settings(props) {\n  const [showTimeSince, setShowTimeSince] = useState(\n    props.timeSinceFormat &&\n      (typeof props.timeSinceFormat === 'boolean' ||\n        props.timeSinceFormat.charAt(0) !== '►')\n  );\n\n  function handleTimeSinceCheck(newVal) {\n    if (newVal) {\n      // If checkbox is now checked\n      if (props.timeSinceFormat && typeof props.timeSinceFormat === 'string')\n        // If there is a format defined\n        props.onChangeTimeSinceFormat(\n          props.timeSinceFormat.substring(1, props.timeSinceFormat.length - 1)\n        );\n      else props.onChangeTimeSinceFormat(true); // set value of format to true if one isn't defined\n    } else {\n      // If checkbox is now unchecked\n      if (props.timeSinceFormat && typeof props.timeSinceFormat === 'string')\n        // If there is a format defined\n        props.onChangeTimeSinceFormat('►' + props.timeSinceFormat + '◄');\n      else props.onChangeTimeSinceFormat(false); // set value of format to false if one isn't defined\n    }\n    setShowTimeSince(newVal);\n  }\n\n  return (\n    <>\n      <PageHeading>Settings</PageHeading>\n      <Card border=\"primary\" className=\"mb-3\">\n        <Card.Body>\n          <Form>\n            <Form.Text>\n              <strong>\n                NOTE: The settings on this page are saved per device.\n              </strong>\n            </Form.Text>\n            <hr />\n            <Form.Group controlId=\"setPollInterval\">\n              <Form.Label>Poll Interval (minutes)</Form.Label>\n              <Form.Control\n                type=\"number\"\n                min=\"0\"\n                value={props.pollInterval}\n                onChange={newVal =>\n                  props.onChangePollInterval(newVal.target.value)\n                }\n                disabled={props.offlineOnly}\n              />\n              <Form.Text as=\"small\" className=\"text-muted\">\n                The data on the main page will automatically refresh this often.\n                An interval of 0 disables it.\n              </Form.Text>\n            </Form.Group>\n            <Form.Group controlId=\"setShowHiddenTyeps\">\n              <Form.Label>Show Deleted Types</Form.Label>\n              <Form.Check\n                className=\"text-muted\"\n                type=\"switch\"\n                label=\"Show deleted event types on the type management page\"\n                checked={props.showHiddenTypes}\n                onChange={evt =>\n                  props.onChangeShowHiddenTypes(evt.target.checked)\n                }\n              />\n              <Form.Text as=\"small\" className=\"text-muted\">\n                Showing deleted event types on the type management page allows\n                you to restore those event types.\n              </Form.Text>\n            </Form.Group>\n            <Form.Group controlId=\"setShowTimeSince\">\n              <Form.Label>Show Time Since</Form.Label>\n              <Form.Check\n                className=\"text-muted\"\n                type=\"switch\"\n                label=\"Show time since an event occurred on the history page\"\n                checked={showTimeSince}\n                onChange={evt => handleTimeSinceCheck(evt.target.checked)}\n              />\n              <Form.Text as=\"small\" className=\"text-muted\">\n                Enabling this adds a column on the Event History page that shows\n                how long ago the event was logged.\n              </Form.Text>\n              <InlineFormGroup\n                controlId=\"inputTimeSinceFormat\"\n                label=\"Time Since\"\n                className=\"child-inline-form-group\"\n              >\n                <Form.Control\n                  type=\"text\"\n                  placeholder=\"Optionally input format\"\n                  value={\n                    typeof props.timeSinceFormat === 'boolean'\n                      ? ''\n                      : props.timeSinceFormat\n                  }\n                  onChange={evt =>\n                    props.onChangeTimeSinceFormat(\n                      evt.target.value || showTimeSince\n                    )\n                  }\n                  {...(!showTimeSince && {\n                    style: { textDecorationLine: 'line-through' }\n                  })}\n                  disabled={!showTimeSince}\n                />\n              </InlineFormGroup>\n              <Form.Text as=\"small\" className=\"text-muted ml-4\">\n                You may specify a format to display the time difference in. The\n                valid placeholders are {'{year}'}, {'{month}'}, {'{week}'},{' '}\n                {'{day}'}, {'{hour}'}, {'{minute}'}, {'{second}'}, and{' '}\n                {'{millisecond}'}. <br /> For example,{' '}\n                <code>{'{year}years, {day}d'}</code> would display the number of\n                years and days since the event occured with 'years, ' after the\n                number of years and 'd' after the number of days. The default\n                format is: <code>{'{year}y{day}d'}</code>.\n              </Form.Text>\n            </Form.Group>\n            <Form.Group controlId=\"setAllowOfflineChanges\">\n              <Form.Label>Allow Offline Changes</Form.Label>\n              <Form.Check\n                className=\"text-muted\"\n                type=\"switch\"\n                label=\"Enable adding events and managing event types when unable to access server\"\n                checked={props.allowOfflineChanges}\n                onChange={evt =>\n                  props.onChangeAllowOfflineChanges(evt.target.checked)\n                }\n                disabled={props.offlineOnly}\n              />\n              <Form.Text as=\"small\" className=\"text-muted\">\n                Allowing offline changes enables you to log events and manage\n                event types even when your device cannot access the server.\n                You're device will sync with the server when it next has access.\n                If the polling interval is disabled, it will try to access the\n                server every 5 minutes.\n              </Form.Text>\n            </Form.Group>\n            <hr />\n            <Form.Group controlId=\"setOfflineOnly\">\n              <Form.Label>Offline Only</Form.Label>\n              <Form.Check\n                className=\"text-muted\"\n                type=\"switch\"\n                label=\"Never try to interact with server\"\n                checked={props.offlineOnly}\n                onChange={evt => props.onChangeOfflineOnly(evt.target.checked)}\n              />\n              <Form.Text as=\"small\" className=\"text-muted\">\n                Enabling offline only prevents the app from trying to pull\n                changes from the server or push changes to the server. It stores\n                all changes locally in the browser cache. When this mode is\n                disabled, it will try to sync with the server again, pushing all\n                changes that have been made since the mode was enabled.\n              </Form.Text>\n              <Form.Text as=\"small\" className=\"text-muted\">\n                <strong>\n                  Note: It will still pull changes to the site itself, just not\n                  the data.\n                </strong>\n              </Form.Text>\n            </Form.Group>\n          </Form>\n        </Card.Body>\n      </Card>\n    </>\n  );\n}\n\nexport default Settings;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"m 4.7733591,41.36263 c -0.1181367,0.118136 -0.3548716,0.35441 -0.4730084,0.590683 -0.5906836,0.708821 -0.7088204,1.652991 -0.5906836,2.598085 0.2362734,0.945093 0.7097434,1.772512 1.5367004,2.245059 1.0632306,0.708821 5.5515035,2.953419 19.7279115,2.953419 14.176408,0 18.664681,-2.244598 19.727912,-2.953419 0.826957,-0.472547 1.300426,-1.299966 1.5367,-2.245059 0.236273,-0.945094 -4.62e-4,-1.888804 -0.473009,-2.715761 -0.236273,-0.236273 -0.35441,-0.354871 -0.590684,-0.473007 -3.662238,2.362734 -8.741656,3.661776 -20.200919,3.661776 -11.222989,0 -16.5386807,-1.417178 -20.2009199,-3.661776 z m 10.7793999,-16.421468 1.062538,2.305051 2.658077,0.353026 -1.948564,1.77205 0.353027,2.481564 -2.125078,-1.062538 -2.30505,1.239051 0.356487,-2.481564 -1.740102,-2.022207 2.449614,-0.102868 z m 15.71112,-3.839444 c 1.240435,0 2.480871,0.35441 3.544102,0.886026 -3.544102,0.35441 -6.378693,3.366897 -6.378693,7.088204 0,3.721307 2.834591,6.733793 6.378693,7.088204 -1.063231,0.531615 -2.303667,0.886025 -3.544102,0.886025 -4.430128,0 -7.97423,-3.544102 -7.97423,-7.974229 0,-4.430128 3.721307,-7.97423 7.97423,-7.97423 z m -7.441549,-9.155596 1.062539,2.30505 2.658076,0.353026 -1.948564,1.772051 0.353027,2.481564 -2.125078,-1.062539 -2.305049,1.239051 0.356487,-2.481563 -1.990258,-1.980514 2.699769,-0.321076 z M 30.881116,0.25012384 c -14.648955,0 -22.3269203,29.88951616 -24.4533812,39.34045516 3.3078282,1.890187 8.2686492,3.071093 18.5465442,3.071093 10.277896,0 15.002903,-1.063231 18.428868,-2.953418 C 39.032088,26.122529 32.770842,11.000566 32.770842,10.882429 v -0.117675 l -0.23535,-0.473009 c -0.118137,-0.3544096 -0.118599,-1.0623061 0.117676,-1.4167163 0.118137,-0.1181368 0.235811,-0.3553341 0.708358,-0.3553341 2.244598,0 2.362735,3.6617774 2.362735,4.8431454 0,1.299504 1.063231,2.245058 2.362735,2.245058 0.945094,0 1.655298,-0.590683 2.009709,-1.181367 1.772051,-3.071555 2.00694,-6.8510064 0.353025,-9.6862884 C 39.268363,2.7319181 36.669817,0.25012384 30.881116,0.25012384 Z\"\n});\n\nvar SvgWizardHat = function SvgWizardHat(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 50 50\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgWizardHat, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/wizard-hat.c554ba05.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from 'react';\nimport Form from 'react-bootstrap/Form';\nimport InlineFormGroup from '../FormElements/InlineFormGroup';\n\n/**\n * Wizard page for selecting a table row's bootstrap base class.\n * @param {FormatWizardPageProps} props - the props object for the Choose Class wizard page\n */\nfunction ChooseClass(props) {\n  const stepName = 'Choose Class';\n  const stepDescription =\n    'Choosing a class allows you to set a starting point for your formatting.';\n  const classPrefix = 'table-';\n  const rowClasses = [\n    'active',\n    'danger',\n    'dark',\n    'info',\n    'light',\n    'primary',\n    'secondary',\n    'success',\n    'warning'\n  ];\n\n  const [className, setClassName] = useState(getRowClass());\n\n  function handleClassChange(newVal) {\n    let formatting = Object.assign({}, props.formatting);\n    let classes =\n      (formatting.className && formatting.className.split(' ')) || [];\n    classes.forEach((cls, idx) => {\n      let index = rowClasses.findIndex(rc => classPrefix + rc === cls);\n      if (index !== -1) classes.splice(idx, 1);\n    });\n    classes.push(newVal);\n    const value = classes.join(' ');\n    formatting.className = value;\n    if (value === '') delete formatting.className;\n    props.setFormatting(formatting);\n    setClassName(newVal);\n  }\n\n  function getRowClass() {\n    let classes =\n      (props.formatting.className && props.formatting.className.split(' ')) ||\n      [];\n    for (let i = 0; i < classes.length; i++) {\n      let index = rowClasses.findIndex(rc => classPrefix + rc === classes[i]);\n      if (index !== -1) return classes[i];\n    }\n    return '';\n  }\n\n  const classOptions = rowClasses.map(name => {\n    const title = name.charAt(0).toUpperCase() + name.substring(1);\n    const value = classPrefix + name;\n    return (\n      <option key={value} value={value}>\n        {title}\n      </option>\n    );\n  });\n\n  return (\n    props.steps[props.curStep] === stepName && (\n      <>\n        <h5>{stepName}</h5>\n        <span className=\"form-text\">{stepDescription}</span>\n        <Form className=\"mt-3\">\n          <InlineFormGroup controlId=\"inputClass\" label=\"Class\">\n            <Form.Control\n              as=\"select\"\n              value={className}\n              onChange={evt => handleClassChange(evt.target.value)}\n              style={{ minWidth: '9rem' }}\n            >\n              <option value=\"\">{'--- None ---'}</option>\n              {classOptions}\n            </Form.Control>\n          </InlineFormGroup>\n        </Form>\n      </>\n    )\n  );\n}\n\nexport default ChooseClass;\n","/**\n * Returns whether the specified object is empty or not. (ECMA 7+)   \\\n * Source: https://stackoverflow.com/a/32108184\n * @param {Object} obj - the object to check.\n * @returns {boolean} Returns true if the object is empty, false otherwise.\n */\nexport const isObjectEmpty = function(obj) {\n  // ECMA 7+:\n  // because Object.entries(new Date()).length === 0;\n  // we have to do some additional check\n  return Object.entries(obj).length === 0 && obj.constructor === Object;\n};\n","class CssColors {\n  /**\n   * Returns the color object of any CSS-defined colors matching colorValue.\n   * @param {string} colorValue - the value of the color to search for. It can be the color name or a hex code (starting with #).\n   * @returns The color object matching colorValue, or null if there is no match.\n   */\n  static findColor(colorValue) {\n    let value = colorValue.toLowerCase();\n    const index = cssColors.findIndex(color => {\n      return color.colorString === value || color.hex.toLowerCase() === value;\n    });\n    if (index !== -1) return cssColors[index];\n    else return null;\n  }\n\n  /**\n   * Returns the name of any CSS-defined colors matching colorValue.\n   * @param {string} colorValue - the value of the color to search for. It can be the color name or a hex code (starting with #).\n   * @returns {string} The name of the color matching colorValue, or empty string if there is no match.\n   */\n  static findName(colorValue) {\n    const color = CssColors.findColor(colorValue);\n    if (color) return color.name;\n    else return '';\n  }\n}\n\n/**\n * An array of all CSS-defined colors.  \\\n * Source: I did a regex replace on the html source of https://www.quackit.com/css/css_color_codes.cfm\n */\nexport const cssColors = [\n  {\n    category: 'Reds',\n    name: 'IndianRed',\n    colorString: 'indianred',\n    textColor: 'white',\n    hex: '#CD5C5C',\n    rgb: { r: 205, g: 92, b: 92 }\n  },\n  {\n    category: 'Reds',\n    name: 'LightCoral',\n    colorString: 'lightcoral',\n    textColor: 'black',\n    hex: '#F08080',\n    rgb: { r: 240, g: 128, b: 128 }\n  },\n  {\n    category: 'Reds',\n    name: 'Salmon',\n    colorString: 'salmon',\n    textColor: 'black',\n    hex: '#FA8072',\n    rgb: { r: 250, g: 128, b: 114 }\n  },\n  {\n    category: 'Reds',\n    name: 'DarkSalmon',\n    colorString: 'darksalmon',\n    textColor: 'black',\n    hex: '#E9967A',\n    rgb: { r: 233, g: 150, b: 122 }\n  },\n  {\n    category: 'Reds',\n    name: 'LightSalmon',\n    colorString: 'lightsalmon',\n    textColor: 'black',\n    hex: '#FFA07A',\n    rgb: { r: 255, g: 160, b: 122 }\n  },\n  {\n    category: 'Reds',\n    name: 'Crimson',\n    colorString: 'crimson',\n    textColor: 'white',\n    hex: '#DC143C',\n    rgb: { r: 220, g: 20, b: 60 }\n  },\n  {\n    category: 'Reds',\n    name: 'Red',\n    colorString: 'red',\n    textColor: 'white',\n    hex: '#FF0000',\n    rgb: { r: 255, g: 0, b: 0 }\n  },\n  {\n    category: 'Reds',\n    name: 'FireBrick',\n    colorString: 'firebrick',\n    textColor: 'white',\n    hex: '#B22222',\n    rgb: { r: 178, g: 34, b: 34 }\n  },\n  {\n    category: 'Reds',\n    name: 'DarkRed',\n    colorString: 'darkred',\n    textColor: 'white',\n    hex: '#8B0000',\n    rgb: { r: 139, g: 0, b: 0 }\n  },\n  {\n    category: 'Pinks',\n    name: 'Pink',\n    colorString: 'pink',\n    textColor: 'black',\n    hex: '#FFC0CB',\n    rgb: { r: 255, g: 192, b: 203 }\n  },\n  {\n    category: 'Pinks',\n    name: 'LightPink',\n    colorString: 'lightpink',\n    textColor: 'black',\n    hex: '#FFB6C1',\n    rgb: { r: 255, g: 182, b: 193 }\n  },\n  {\n    category: 'Pinks',\n    name: 'HotPink',\n    colorString: 'hotpink',\n    textColor: 'white',\n    hex: '#FF69B4',\n    rgb: { r: 255, g: 105, b: 180 }\n  },\n  {\n    category: 'Pinks',\n    name: 'DeepPink',\n    colorString: 'deeppink',\n    textColor: 'white',\n    hex: '#FF1493',\n    rgb: { r: 255, g: 20, b: 147 }\n  },\n  {\n    category: 'Pinks',\n    name: 'MediumVioletRed',\n    colorString: 'mediumvioletred',\n    textColor: 'white',\n    hex: '#C71585',\n    rgb: { r: 199, g: 21, b: 133 }\n  },\n  {\n    category: 'Pinks',\n    name: 'PaleVioletRed',\n    colorString: 'palevioletred',\n    textColor: 'white',\n    hex: '#DB7093',\n    rgb: { r: 219, g: 112, b: 147 }\n  },\n  {\n    category: 'Oranges',\n    name: 'Coral',\n    colorString: 'coral',\n    textColor: 'white',\n    hex: '#FF7F50',\n    rgb: { r: 255, g: 127, b: 80 }\n  },\n  {\n    category: 'Oranges',\n    name: 'Tomato',\n    colorString: 'tomato',\n    textColor: 'white',\n    hex: '#FF6347',\n    rgb: { r: 255, g: 99, b: 71 }\n  },\n  {\n    category: 'Oranges',\n    name: 'OrangeRed',\n    colorString: 'orangered',\n    textColor: 'white',\n    hex: '#FF4500',\n    rgb: { r: 255, g: 69, b: 0 }\n  },\n  {\n    category: 'Oranges',\n    name: 'DarkOrange',\n    colorString: 'darkorange',\n    textColor: 'white',\n    hex: '#FF8C00',\n    rgb: { r: 255, g: 140, b: 0 }\n  },\n  {\n    category: 'Oranges',\n    name: 'Orange',\n    colorString: 'orange',\n    textColor: 'white',\n    hex: '#FFA500',\n    rgb: { r: 255, g: 165, b: 0 }\n  },\n  {\n    category: 'Yellows',\n    name: 'Gold',\n    colorString: 'gold',\n    textColor: 'black',\n    hex: '#FFD700',\n    rgb: { r: 255, g: 215, b: 0 }\n  },\n  {\n    category: 'Yellows',\n    name: 'Yellow',\n    colorString: 'yellow',\n    textColor: 'black',\n    hex: '#FFFF00',\n    rgb: { r: 255, g: 255, b: 0 }\n  },\n  {\n    category: 'Yellows',\n    name: 'LightYellow',\n    colorString: 'lightyellow',\n    textColor: 'black',\n    hex: '#FFFFE0',\n    rgb: { r: 255, g: 255, b: 224 }\n  },\n  {\n    category: 'Yellows',\n    name: 'LemonChiffon',\n    colorString: 'lemonchiffon',\n    textColor: 'black',\n    hex: '#FFFACD',\n    rgb: { r: 255, g: 250, b: 205 }\n  },\n  {\n    category: 'Yellows',\n    name: 'LightGoldenrodYellow',\n    colorString: 'lightgoldenrodyellow',\n    textColor: 'black',\n    hex: '#FAFAD2',\n    rgb: { r: 250, g: 250, b: 210 }\n  },\n  {\n    category: 'Yellows',\n    name: 'PapayaWhip',\n    colorString: 'papayawhip',\n    textColor: 'black',\n    hex: '#FFEFD5',\n    rgb: { r: 255, g: 239, b: 213 }\n  },\n  {\n    category: 'Yellows',\n    name: 'Moccasin',\n    colorString: 'moccasin',\n    textColor: 'black',\n    hex: '#FFE4B5',\n    rgb: { r: 255, g: 228, b: 181 }\n  },\n  {\n    category: 'Yellows',\n    name: 'PeachPuff',\n    colorString: 'peachpuff',\n    textColor: 'black',\n    hex: '#FFDAB9',\n    rgb: { r: 255, g: 218, b: 185 }\n  },\n  {\n    category: 'Yellows',\n    name: 'PaleGoldenrod',\n    colorString: 'palegoldenrod',\n    textColor: 'black',\n    hex: '#EEE8AA',\n    rgb: { r: 238, g: 232, b: 170 }\n  },\n  {\n    category: 'Yellows',\n    name: 'Khaki',\n    colorString: 'khaki',\n    textColor: 'black',\n    hex: '#F0E68C',\n    rgb: { r: 240, g: 230, b: 140 }\n  },\n  {\n    category: 'Yellows',\n    name: 'DarkKhaki',\n    colorString: 'darkkhaki',\n    textColor: 'white',\n    hex: '#BDB76B',\n    rgb: { r: 189, g: 183, b: 107 }\n  },\n  {\n    category: 'Purples',\n    name: 'Lavender',\n    colorString: 'lavender',\n    textColor: 'black',\n    hex: '#E6E6FA',\n    rgb: { r: 230, g: 230, b: 250 }\n  },\n  {\n    category: 'Purples',\n    name: 'Thistle',\n    colorString: 'thistle',\n    textColor: 'white',\n    hex: '#D8BFD8',\n    rgb: { r: 216, g: 191, b: 216 }\n  },\n  {\n    category: 'Purples',\n    name: 'Plum',\n    colorString: 'plum',\n    textColor: 'white',\n    hex: '#DDA0DD',\n    rgb: { r: 221, g: 160, b: 221 }\n  },\n  {\n    category: 'Purples',\n    name: 'Violet',\n    colorString: 'violet',\n    textColor: 'white',\n    hex: '#EE82EE',\n    rgb: { r: 238, g: 130, b: 238 }\n  },\n  {\n    category: 'Purples',\n    name: 'Orchid',\n    colorString: 'orchid',\n    textColor: 'white',\n    hex: '#DA70D6',\n    rgb: { r: 218, g: 112, b: 214 }\n  },\n  {\n    category: 'Purples',\n    name: 'Magenta',\n    colorString: 'magenta',\n    textColor: 'white',\n    hex: '#FF00FF',\n    rgb: { r: 255, g: 0, b: 255 }\n  },\n  {\n    category: 'Purples',\n    name: 'Fuchsia',\n    colorString: 'fuchsia',\n    textColor: 'white',\n    hex: '#FF00FF',\n    rgb: { r: 255, g: 0, b: 255 }\n  },\n  {\n    category: 'Purples',\n    name: 'MediumOrchid',\n    colorString: 'mediumorchid',\n    textColor: 'white',\n    hex: '#BA55D3',\n    rgb: { r: 186, g: 85, b: 211 }\n  },\n  {\n    category: 'Purples',\n    name: 'MediumPurple',\n    colorString: 'mediumpurple',\n    textColor: 'white',\n    hex: '#9370DB',\n    rgb: { r: 147, g: 112, b: 219 }\n  },\n  {\n    category: 'Purples',\n    name: 'BlueViolet',\n    colorString: 'blueviolet',\n    textColor: 'white',\n    hex: '#8A2BE2',\n    rgb: { r: 138, g: 43, b: 226 }\n  },\n  {\n    category: 'Purples',\n    name: 'DarkViolet',\n    colorString: 'darkviolet',\n    textColor: 'white',\n    hex: '#9400D3',\n    rgb: { r: 148, g: 0, b: 211 }\n  },\n  {\n    category: 'Purples',\n    name: 'DarkOrchid',\n    colorString: 'darkorchid',\n    textColor: 'white',\n    hex: '#9932CC',\n    rgb: { r: 153, g: 50, b: 204 }\n  },\n  {\n    category: 'Purples',\n    name: 'DarkMagenta',\n    colorString: 'darkmagenta',\n    textColor: 'white',\n    hex: '#8B008B',\n    rgb: { r: 139, g: 0, b: 139 }\n  },\n  {\n    category: 'Purples',\n    name: 'Purple',\n    colorString: 'purple',\n    textColor: 'white',\n    hex: '#800080',\n    rgb: { r: 128, g: 0, b: 128 }\n  },\n  {\n    category: 'Purples',\n    name: 'RebeccaPurple',\n    colorString: 'rebeccapurple',\n    textColor: 'white',\n    hex: '#663399',\n    rgb: { r: 102, g: 51, b: 153 }\n  },\n  {\n    category: 'Purples',\n    name: 'Indigo',\n    colorString: 'indigo',\n    textColor: 'white',\n    hex: '#4B0082',\n    rgb: { r: 75, g: 0, b: 130 }\n  },\n  {\n    category: 'Purples',\n    name: 'MediumSlateBlue',\n    colorString: 'mediumslateblue',\n    textColor: 'white',\n    hex: '#7B68EE',\n    rgb: { r: 123, g: 104, b: 238 }\n  },\n  {\n    category: 'Purples',\n    name: 'SlateBlue',\n    colorString: 'slateblue',\n    textColor: 'white',\n    hex: '#6A5ACD',\n    rgb: { r: 106, g: 90, b: 205 }\n  },\n  {\n    category: 'Purples',\n    name: 'DarkSlateBlue',\n    colorString: 'darkslateblue',\n    textColor: 'white',\n    hex: '#483D8B',\n    rgb: { r: 72, g: 61, b: 139 }\n  },\n  {\n    category: 'Greens',\n    name: 'GreenYellow',\n    colorString: 'greenyellow',\n    textColor: 'black',\n    hex: '#ADFF2F',\n    rgb: { r: 173, g: 255, b: 47 }\n  },\n  {\n    category: 'Greens',\n    name: 'Chartreuse',\n    colorString: 'chartreuse',\n    textColor: 'black',\n    hex: '#7FFF00',\n    rgb: { r: 127, g: 255, b: 0 }\n  },\n  {\n    category: 'Greens',\n    name: 'LawnGreen',\n    colorString: 'lawngreen',\n    textColor: 'black',\n    hex: '#7CFC00',\n    rgb: { r: 124, g: 252, b: 0 }\n  },\n  {\n    category: 'Greens',\n    name: 'Lime',\n    colorString: 'lime',\n    textColor: 'black',\n    hex: '#00FF00',\n    rgb: { r: 0, g: 255, b: 0 }\n  },\n  {\n    category: 'Greens',\n    name: 'LimeGreen',\n    colorString: 'limegreen',\n    textColor: 'black',\n    hex: '#32CD32',\n    rgb: { r: 50, g: 205, b: 50 }\n  },\n  {\n    category: 'Greens',\n    name: 'PaleGreen',\n    colorString: 'palegreen',\n    textColor: 'black',\n    hex: '#98FB98',\n    rgb: { r: 152, g: 251, b: 152 }\n  },\n  {\n    category: 'Greens',\n    name: 'LightGreen',\n    colorString: 'lightgreen',\n    textColor: 'black',\n    hex: '#90EE90',\n    rgb: { r: 144, g: 238, b: 144 }\n  },\n  {\n    category: 'Greens',\n    name: 'MediumSpringGreen',\n    colorString: 'mediumspringgreen',\n    textColor: 'black',\n    hex: '#00FA9A',\n    rgb: { r: 0, g: 250, b: 154 }\n  },\n  {\n    category: 'Greens',\n    name: 'SpringGreen',\n    colorString: 'springgreen',\n    textColor: 'black',\n    hex: '#00FF7F',\n    rgb: { r: 0, g: 255, b: 127 }\n  },\n  {\n    category: 'Greens',\n    name: 'MediumSeaGreen',\n    colorString: 'mediumseagreen',\n    textColor: 'white',\n    hex: '#3CB371',\n    rgb: { r: 60, g: 179, b: 113 }\n  },\n  {\n    category: 'Greens',\n    name: 'SeaGreen',\n    colorString: 'seagreen',\n    textColor: 'white',\n    hex: '#2E8B57',\n    rgb: { r: 46, g: 139, b: 87 }\n  },\n  {\n    category: 'Greens',\n    name: 'ForestGreen',\n    colorString: 'forestgreen',\n    textColor: 'white',\n    hex: '#228B22',\n    rgb: { r: 34, g: 139, b: 34 }\n  },\n  {\n    category: 'Greens',\n    name: 'Green',\n    colorString: 'green',\n    textColor: 'white',\n    hex: '#008000',\n    rgb: { r: 0, g: 128, b: 0 }\n  },\n  {\n    category: 'Greens',\n    name: 'DarkGreen',\n    colorString: 'darkgreen',\n    textColor: 'white',\n    hex: '#006400',\n    rgb: { r: 0, g: 100, b: 0 }\n  },\n  {\n    category: 'Greens',\n    name: 'YellowGreen',\n    colorString: 'yellowgreen',\n    textColor: 'white',\n    hex: '#9ACD32',\n    rgb: { r: 154, g: 205, b: 50 }\n  },\n  {\n    category: 'Greens',\n    name: 'OliveDrab',\n    colorString: 'olivedrab',\n    textColor: 'white',\n    hex: '#6B8E23',\n    rgb: { r: 107, g: 142, b: 35 }\n  },\n  {\n    category: 'Greens',\n    name: 'Olive',\n    colorString: 'olive',\n    textColor: 'white',\n    hex: '#808000',\n    rgb: { r: 128, g: 128, b: 0 }\n  },\n  {\n    category: 'Greens',\n    name: 'DarkOliveGreen',\n    colorString: 'darkolivegreen',\n    textColor: 'white',\n    hex: '#556B2F',\n    rgb: { r: 85, g: 107, b: 47 }\n  },\n  {\n    category: 'Greens',\n    name: 'MediumAquamarine',\n    colorString: 'mediumaquamarine',\n    textColor: 'black',\n    hex: '#66CDAA',\n    rgb: { r: 102, g: 205, b: 170 }\n  },\n  {\n    category: 'Greens',\n    name: 'DarkSeaGreen',\n    colorString: 'darkseagreen',\n    textColor: 'white',\n    hex: '#8FBC8F',\n    rgb: { r: 143, g: 188, b: 143 }\n  },\n  {\n    category: 'Greens',\n    name: 'LightSeaGreen',\n    colorString: 'lightseagreen',\n    textColor: 'white',\n    hex: '#20B2AA',\n    rgb: { r: 32, g: 178, b: 170 }\n  },\n  {\n    category: 'Greens',\n    name: 'DarkCyan',\n    colorString: 'darkcyan',\n    textColor: 'white',\n    hex: '#008B8B',\n    rgb: { r: 0, g: 139, b: 139 }\n  },\n  {\n    category: 'Greens',\n    name: 'Teal',\n    colorString: 'teal',\n    textColor: 'white',\n    hex: '#008080',\n    rgb: { r: 0, g: 128, b: 128 }\n  },\n  {\n    category: 'Blues/Cyans',\n    name: 'Cyan',\n    colorString: 'cyan',\n    textColor: 'black',\n    hex: '#00FFFF',\n    rgb: { r: 0, g: 255, b: 255 }\n  },\n  {\n    category: 'Blues/Cyans',\n    name: 'Aqua',\n    colorString: 'aqua',\n    textColor: 'black',\n    hex: '#00FFFF',\n    rgb: { r: 0, g: 255, b: 255 }\n  },\n  {\n    category: 'Blues/Cyans',\n    name: 'LightCyan',\n    colorString: 'lightcyan',\n    textColor: 'black',\n    hex: '#E0FFFF',\n    rgb: { r: 224, g: 255, b: 255 }\n  },\n  {\n    category: 'Blues/Cyans',\n    name: 'PaleTurquoise',\n    colorString: 'paleturquoise',\n    textColor: 'black',\n    hex: '#AFEEEE',\n    rgb: { r: 175, g: 238, b: 238 }\n  },\n  {\n    category: 'Blues/Cyans',\n    name: 'Aquamarine',\n    colorString: 'aquamarine',\n    textColor: 'black',\n    hex: '#7FFFD4',\n    rgb: { r: 127, g: 255, b: 212 }\n  },\n  {\n    category: 'Blues/Cyans',\n    name: 'Turquoise',\n    colorString: 'turquoise',\n    textColor: 'black',\n    hex: '#40E0D0',\n    rgb: { r: 64, g: 224, b: 208 }\n  },\n  {\n    category: 'Blues/Cyans',\n    name: 'MediumTurquoise',\n    colorString: 'mediumturquoise',\n    textColor: 'white',\n    hex: '#48D1CC',\n    rgb: { r: 72, g: 209, b: 204 }\n  },\n  {\n    category: 'Blues/Cyans',\n    name: 'DarkTurquoise',\n    colorString: 'darkturquoise',\n    textColor: 'white',\n    hex: '#00CED1',\n    rgb: { r: 0, g: 206, b: 209 }\n  },\n  {\n    category: 'Blues/Cyans',\n    name: 'CadetBlue',\n    colorString: 'cadetblue',\n    textColor: 'white',\n    hex: '#5F9EA0',\n    rgb: { r: 95, g: 158, b: 160 }\n  },\n  {\n    category: 'Blues/Cyans',\n    name: 'SteelBlue',\n    colorString: 'steelblue',\n    textColor: 'white',\n    hex: '#4682B4',\n    rgb: { r: 70, g: 130, b: 180 }\n  },\n  {\n    category: 'Blues/Cyans',\n    name: 'LightSteelBlue',\n    colorString: 'lightsteelblue',\n    textColor: 'black',\n    hex: '#B0C4DE',\n    rgb: { r: 176, g: 196, b: 222 }\n  },\n  {\n    category: 'Blues/Cyans',\n    name: 'PowderBlue',\n    colorString: 'powderblue',\n    textColor: 'black',\n    hex: '#B0E0E6',\n    rgb: { r: 176, g: 224, b: 230 }\n  },\n  {\n    category: 'Blues/Cyans',\n    name: 'LightBlue',\n    colorString: 'lightblue',\n    textColor: 'black',\n    hex: '#ADD8E6',\n    rgb: { r: 173, g: 216, b: 230 }\n  },\n  {\n    category: 'Blues/Cyans',\n    name: 'SkyBlue',\n    colorString: 'skyblue',\n    textColor: 'black',\n    hex: '#87CEEB',\n    rgb: { r: 135, g: 206, b: 235 }\n  },\n  {\n    category: 'Blues/Cyans',\n    name: 'LightSkyBlue',\n    colorString: 'lightskyblue',\n    textColor: 'black',\n    hex: '#87CEFA',\n    rgb: { r: 135, g: 206, b: 250 }\n  },\n  {\n    category: 'Blues/Cyans',\n    name: 'DeepSkyBlue',\n    colorString: 'deepskyblue',\n    textColor: 'white',\n    hex: '#00BFFF',\n    rgb: { r: 0, g: 191, b: 255 }\n  },\n  {\n    category: 'Blues/Cyans',\n    name: 'DodgerBlue',\n    colorString: 'dodgerblue',\n    textColor: 'white',\n    hex: '#1E90FF',\n    rgb: { r: 30, g: 144, b: 255 }\n  },\n  {\n    category: 'Blues/Cyans',\n    name: 'CornflowerBlue',\n    colorString: 'cornflowerblue',\n    textColor: 'white',\n    hex: '#6495ED',\n    rgb: { r: 100, g: 149, b: 237 }\n  },\n  {\n    category: 'Blues/Cyans',\n    name: 'RoyalBlue',\n    colorString: 'royalblue',\n    textColor: 'white',\n    hex: '#4169E1',\n    rgb: { r: 65, g: 105, b: 225 }\n  },\n  {\n    category: 'Blues/Cyans',\n    name: 'Blue',\n    colorString: 'blue',\n    textColor: 'white',\n    hex: '#0000FF',\n    rgb: { r: 0, g: 0, b: 255 }\n  },\n  {\n    category: 'Blues/Cyans',\n    name: 'MediumBlue',\n    colorString: 'mediumblue',\n    textColor: 'white',\n    hex: '#0000CD',\n    rgb: { r: 0, g: 0, b: 205 }\n  },\n  {\n    category: 'Blues/Cyans',\n    name: 'DarkBlue',\n    colorString: 'darkblue',\n    textColor: 'white',\n    hex: '#00008B',\n    rgb: { r: 0, g: 0, b: 139 }\n  },\n  {\n    category: 'Blues/Cyans',\n    name: 'Navy',\n    colorString: 'navy',\n    textColor: 'white',\n    hex: '#000080',\n    rgb: { r: 0, g: 0, b: 128 }\n  },\n  {\n    category: 'Blues/Cyans',\n    name: 'MidnightBlue',\n    colorString: 'midnightblue',\n    textColor: 'white',\n    hex: '#191970',\n    rgb: { r: 25, g: 25, b: 112 }\n  },\n  {\n    category: 'Browns',\n    name: 'Cornsilk',\n    colorString: 'cornsilk',\n    textColor: 'black',\n    hex: '#FFF8DC',\n    rgb: { r: 255, g: 248, b: 220 }\n  },\n  {\n    category: 'Browns',\n    name: 'BlanchedAlmond',\n    colorString: 'blanchedalmond',\n    textColor: 'black',\n    hex: '#FFEBCD',\n    rgb: { r: 255, g: 235, b: 205 }\n  },\n  {\n    category: 'Browns',\n    name: 'Bisque',\n    colorString: 'bisque',\n    textColor: 'black',\n    hex: '#FFE4C4',\n    rgb: { r: 255, g: 228, b: 196 }\n  },\n  {\n    category: 'Browns',\n    name: 'NavajoWhite',\n    colorString: 'navajowhite',\n    textColor: 'black',\n    hex: '#FFDEAD',\n    rgb: { r: 255, g: 222, b: 173 }\n  },\n  {\n    category: 'Browns',\n    name: 'Wheat',\n    colorString: 'wheat',\n    textColor: 'black',\n    hex: '#F5DEB3',\n    rgb: { r: 245, g: 222, b: 179 }\n  },\n  {\n    category: 'Browns',\n    name: 'BurlyWood',\n    colorString: 'burlywood',\n    textColor: 'white',\n    hex: '#DEB887',\n    rgb: { r: 222, g: 184, b: 135 }\n  },\n  {\n    category: 'Browns',\n    name: 'Tan',\n    colorString: 'tan',\n    textColor: 'white',\n    hex: '#D2B48C',\n    rgb: { r: 210, g: 180, b: 140 }\n  },\n  {\n    category: 'Browns',\n    name: 'RosyBrown',\n    colorString: 'rosybrown',\n    textColor: 'white',\n    hex: '#BC8F8F',\n    rgb: { r: 188, g: 143, b: 143 }\n  },\n  {\n    category: 'Browns',\n    name: 'SandyBrown',\n    colorString: 'sandybrown',\n    textColor: 'white',\n    hex: '#F4A460',\n    rgb: { r: 244, g: 164, b: 96 }\n  },\n  {\n    category: 'Browns',\n    name: 'Goldenrod',\n    colorString: 'goldenrod',\n    textColor: 'white',\n    hex: '#DAA520',\n    rgb: { r: 218, g: 165, b: 32 }\n  },\n  {\n    category: 'Browns',\n    name: 'DarkGoldenrod',\n    colorString: 'darkgoldenrod',\n    textColor: 'white',\n    hex: '#B8860B',\n    rgb: { r: 184, g: 134, b: 11 }\n  },\n  {\n    category: 'Browns',\n    name: 'Peru',\n    colorString: 'peru',\n    textColor: 'white',\n    hex: '#CD853F',\n    rgb: { r: 205, g: 133, b: 63 }\n  },\n  {\n    category: 'Browns',\n    name: 'Chocolate',\n    colorString: 'chocolate',\n    textColor: 'white',\n    hex: '#D2691E',\n    rgb: { r: 210, g: 105, b: 30 }\n  },\n  {\n    category: 'Browns',\n    name: 'SaddleBrown',\n    colorString: 'saddlebrown',\n    textColor: 'white',\n    hex: '#8B4513',\n    rgb: { r: 139, g: 69, b: 19 }\n  },\n  {\n    category: 'Browns',\n    name: 'Sienna',\n    colorString: 'sienna',\n    textColor: 'white',\n    hex: '#A0522D',\n    rgb: { r: 160, g: 82, b: 45 }\n  },\n  {\n    category: 'Browns',\n    name: 'Brown',\n    colorString: 'brown',\n    textColor: 'white',\n    hex: '#A52A2A',\n    rgb: { r: 165, g: 42, b: 42 }\n  },\n  {\n    category: 'Browns',\n    name: 'Maroon',\n    colorString: 'maroon',\n    textColor: 'white',\n    hex: '#800000',\n    rgb: { r: 128, g: 0, b: 0 }\n  },\n  {\n    category: 'Whites',\n    name: 'White',\n    colorString: 'white',\n    textColor: 'black',\n    hex: '#FFFFFF',\n    rgb: { r: 255, g: 255, b: 255 }\n  },\n  {\n    category: 'Whites',\n    name: 'Snow',\n    colorString: 'snow',\n    textColor: 'black',\n    hex: '#FFFAFA',\n    rgb: { r: 255, g: 250, b: 250 }\n  },\n  {\n    category: 'Whites',\n    name: 'Honeydew',\n    colorString: 'honeydew',\n    textColor: 'black',\n    hex: '#F0FFF0',\n    rgb: { r: 240, g: 255, b: 240 }\n  },\n  {\n    category: 'Whites',\n    name: 'MintCream',\n    colorString: 'mintcream',\n    textColor: 'black',\n    hex: '#F5FFFA',\n    rgb: { r: 245, g: 255, b: 250 }\n  },\n  {\n    category: 'Whites',\n    name: 'Azure',\n    colorString: 'azure',\n    textColor: 'black',\n    hex: '#F0FFFF',\n    rgb: { r: 240, g: 255, b: 255 }\n  },\n  {\n    category: 'Whites',\n    name: 'AliceBlue',\n    colorString: 'aliceblue',\n    textColor: 'black',\n    hex: '#F0F8FF',\n    rgb: { r: 240, g: 248, b: 255 }\n  },\n  {\n    category: 'Whites',\n    name: 'GhostWhite',\n    colorString: 'ghostwhite',\n    textColor: 'black',\n    hex: '#F8F8FF',\n    rgb: { r: 248, g: 248, b: 255 }\n  },\n  {\n    category: 'Whites',\n    name: 'WhiteSmoke',\n    colorString: 'whitesmoke',\n    textColor: 'black',\n    hex: '#F5F5F5',\n    rgb: { r: 245, g: 245, b: 245 }\n  },\n  {\n    category: 'Whites',\n    name: 'Seashell',\n    colorString: 'seashell',\n    textColor: 'black',\n    hex: '#FFF5EE',\n    rgb: { r: 255, g: 245, b: 238 }\n  },\n  {\n    category: 'Whites',\n    name: 'Beige',\n    colorString: 'beige',\n    textColor: 'black',\n    hex: '#F5F5DC',\n    rgb: { r: 245, g: 245, b: 220 }\n  },\n  {\n    category: 'Whites',\n    name: 'OldLace',\n    colorString: 'oldlace',\n    textColor: 'black',\n    hex: '#FDF5E6',\n    rgb: { r: 253, g: 245, b: 230 }\n  },\n  {\n    category: 'Whites',\n    name: 'FloralWhite',\n    colorString: 'floralwhite',\n    textColor: 'black',\n    hex: '#FFFAF0',\n    rgb: { r: 255, g: 250, b: 240 }\n  },\n  {\n    category: 'Whites',\n    name: 'Ivory',\n    colorString: 'ivory',\n    textColor: 'black',\n    hex: '#FFFFF0',\n    rgb: { r: 255, g: 255, b: 240 }\n  },\n  {\n    category: 'Whites',\n    name: 'AntiqueWhite',\n    colorString: 'antiquewhite',\n    textColor: 'black',\n    hex: '#FAEBD7',\n    rgb: { r: 250, g: 235, b: 215 }\n  },\n  {\n    category: 'Whites',\n    name: 'Linen',\n    colorString: 'linen',\n    textColor: 'black',\n    hex: '#FAF0E6',\n    rgb: { r: 250, g: 240, b: 230 }\n  },\n  {\n    category: 'Whites',\n    name: 'LavenderBlush',\n    colorString: 'lavenderblush',\n    textColor: 'black',\n    hex: '#FFF0F5',\n    rgb: { r: 255, g: 240, b: 245 }\n  },\n  {\n    category: 'Whites',\n    name: 'MistyRose',\n    colorString: 'mistyrose',\n    textColor: 'black',\n    hex: '#FFE4E1',\n    rgb: { r: 255, g: 228, b: 225 }\n  },\n  {\n    category: 'Greys',\n    name: 'Gainsboro',\n    colorString: 'gainsboro',\n    textColor: 'black',\n    hex: '#DCDCDC',\n    rgb: { r: 220, g: 220, b: 220 }\n  },\n  {\n    category: 'Greys',\n    name: 'LightGrey',\n    colorString: 'lightgrey',\n    textColor: 'black',\n    hex: '#D3D3D3',\n    rgb: { r: 211, g: 211, b: 211 }\n  },\n  {\n    category: 'Greys',\n    name: 'LightGray',\n    colorString: 'lightgrey',\n    textColor: 'black',\n    hex: '#D3D3D3',\n    rgb: { r: 211, g: 211, b: 211 }\n  },\n  {\n    category: 'Greys',\n    name: 'Silver',\n    colorString: 'silver',\n    textColor: 'black',\n    hex: '#C0C0C0',\n    rgb: { r: 192, g: 192, b: 192 }\n  },\n  {\n    category: 'Greys',\n    name: 'DarkGrey',\n    colorString: 'darkgrey',\n    textColor: 'black',\n    hex: '#A9A9A9',\n    rgb: { r: 169, g: 169, b: 169 }\n  },\n  {\n    category: 'Greys',\n    name: 'DarkGray',\n    colorString: 'darkgray',\n    textColor: 'black',\n    hex: '#A9A9A9',\n    rgb: { r: 169, g: 169, b: 169 }\n  },\n  {\n    category: 'Greys',\n    name: 'Grey',\n    colorString: 'grey',\n    textColor: 'black',\n    hex: '#808080',\n    rgb: { r: 128, g: 128, b: 128 }\n  },\n  {\n    category: 'Greys',\n    name: 'Gray',\n    colorString: 'gray',\n    textColor: 'black',\n    hex: '#808080',\n    rgb: { r: 128, g: 128, b: 128 }\n  },\n  {\n    category: 'Greys',\n    name: 'DimGrey',\n    colorString: 'dimgrey',\n    textColor: 'white',\n    hex: '#696969',\n    rgb: { r: 105, g: 105, b: 105 }\n  },\n  {\n    category: 'Greys',\n    name: 'DimGray',\n    colorString: 'dimgray',\n    textColor: 'white',\n    hex: '#696969',\n    rgb: { r: 105, g: 105, b: 105 }\n  },\n  {\n    category: 'Greys',\n    name: 'LightSlateGrey',\n    colorString: 'lightslategrey',\n    textColor: 'white',\n    hex: '#778899',\n    rgb: { r: 119, g: 136, b: 153 }\n  },\n  {\n    category: 'Greys',\n    name: 'LightSlateGray',\n    colorString: 'lightslategray',\n    textColor: 'white',\n    hex: '#778899',\n    rgb: { r: 119, g: 136, b: 153 }\n  },\n  {\n    category: 'Greys',\n    name: 'SlateGrey',\n    colorString: 'slategrey',\n    textColor: 'white',\n    hex: '#708090',\n    rgb: { r: 112, g: 128, b: 144 }\n  },\n  {\n    category: 'Greys',\n    name: 'SlateGray',\n    colorString: 'slategray',\n    textColor: 'white',\n    hex: '#708090',\n    rgb: { r: 112, g: 128, b: 144 }\n  },\n  {\n    category: 'Greys',\n    name: 'DarkSlateGrey',\n    colorString: 'darkslategrey',\n    textColor: 'white',\n    hex: '#2F4F4F',\n    rgb: { r: 47, g: 79, b: 79 }\n  },\n  {\n    category: 'Greys',\n    name: 'DarkSlateGray',\n    colorString: 'darkslategray',\n    textColor: 'white',\n    hex: '#2F4F4F',\n    rgb: { r: 47, g: 79, b: 79 }\n  },\n  {\n    category: 'Greys',\n    name: 'Black',\n    colorString: 'black',\n    textColor: 'white',\n    hex: '#000000',\n    rgb: { r: 0, g: 0, b: 0 }\n  }\n];\n\nexport default CssColors;\n","import React, { useEffect, useState } from 'react';\nimport '../../styles/CustomSelect.css';\n\n/**\n * A custom selector that lets you choose one of a few pre-defined items.\n * @template OBJ - the list item object\n * @template VAL - the type of the item's value\n * @param {Object} props - properties object for CustomSelect\n * @param {VAL} props.value - The value of the selector\n * @param {Array<{name:string, props:FormattingObject, object:OBJ}>} props.items - The list of objects needed to generate the option list\n * @param {(item:OBJ, filter:string) => boolean} props.filter - Returns whether the item should be included based on the filter text (filter text is converted to all lowercase before it's passed).\n * @param {(itemList:Array<{name:string, props:FormattingObject, object:OBJ}>) => void} [props.insertGroups] - Adds group label items to the list of options.\n * @param {(itemValue:VAL) => OBJ} props.findItem - Returns the item object that matches the value.\n * @param {(itemValue:VAL) => string} props.findItemName - Returns the name of the item matching the value.\n * @param {(item:OBJ) => boolean} props.handleSelect - Performs any logic that needs to happen when an item is selected and returns true if the list should be hidden (a valid option was clicked). It is passed an object with emptyString set to true if the value is empty.\n */\nfunction CustomSelect(props) {\n  const [filterText, setFilterText] = useState('');\n  const [showList, setShowList] = useState(false);\n  const [blurring, setBlurring] = useState(false);\n\n  // Make sure filter text reflects the current value\n  const findItemName = props.findItemName;\n  const propValue = props.value;\n  useEffect(() => {\n    setFilterText(findItemName(propValue));\n  }, [findItemName, propValue]);\n\n  // Make sure to hide the menu when focus leaves the input\n  useEffect(() => {\n    if (blurring) {\n      setShowList(false);\n      setBlurring(false);\n    }\n  }, [blurring, setShowList, setBlurring]);\n\n  function handleSelect(item) {\n    const hideList = props.handleSelect(item);\n    setShowList(!hideList);\n  }\n\n  function handleBlur(evt) {\n    setBlurring(true);\n    let value = evt.target.value.toLowerCase();\n    // Handle empty string\n    if (!value) {\n      handleSelect({ emptyString: true });\n      return;\n    }\n\n    // Set value if valid, otherwise reset filterText\n    const item = props.findItem(value);\n    if (item) handleSelect(item);\n    else setFilterText(props.findItemName(props.value));\n  }\n\n  // Generate JSX\n  const lowerFilter = filterText.toLowerCase();\n  let listItems = props.items.filter(item => {\n    return props.filter(item.object, lowerFilter);\n  });\n  if (props.insertGroups) props.insertGroups(listItems);\n  const listOptions = listItems.map(item => {\n    return (\n      <li\n        key={item.name}\n        {...item.props}\n        onMouseDown={evt => evt.preventDefault()} // Ensures onClick is called before onBlur is called on the input\n        onClick={() => handleSelect(item.object)}\n      >\n        {item.name}\n      </li>\n    );\n  });\n\n  return (\n    <>\n      <div\n        className={'custom-select-component' + (showList ? ' show-list' : '')}\n      >\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          value={filterText}\n          onChange={evt => setFilterText(evt.target.value)}\n          onFocus={evt => setShowList(true)}\n          onBlur={evt => handleBlur(evt)}\n          onKeyDown={evt => {\n            if (evt.key === 'Escape') setShowList(false);\n          }}\n          onClick={evt => setShowList(true)}\n        />\n        <span\n          className=\"arrow\"\n          onClick={evt => {\n            setShowList(val => !val);\n            evt.preventDefault();\n          }}\n          onMouseDown={evt => evt.preventDefault()}\n        >\n          {showList ? <>&#128897;</> : <>&#128899;</>}\n        </span>\n        <ul className=\"dropdown\">{listOptions}</ul>\n      </div>\n    </>\n  );\n}\n\nexport default CustomSelect;\n","import React from 'react';\nimport CssColors, { cssColors } from '../../helpers/CssColors';\nimport CustomSelect from './CustomSelect';\n\n/**\n * A custom selector that lets you choose one of the CSS-defined colors.\n * @param {Object} props - properties object for CssColorSelect\n * @param {(colorValue:string) => void} props.onChange - function to call when a color is chosen\n * @param {string} props.value - The value of the selector\n */\nfunction CssColorSelect(props) {\n  function handleSelect(color) {\n    if (color.colorString !== undefined) {\n      props.onChange(color.colorString);\n      return true;\n    } else if (props.emptyString) {\n      props.onChange('');\n    }\n    return false;\n  }\n\n  function filter(color, lowerCaseFilterText) {\n    const colorStringMatches =\n      color.colorString.indexOf(lowerCaseFilterText) !== -1;\n    const categoryMatches =\n      color.category.toLowerCase().indexOf(lowerCaseFilterText) !== -1;\n    return colorStringMatches || categoryMatches;\n  }\n\n  function insertGroups(colorItems) {\n    let lastGroup = '';\n    colorItems.forEach((colorItem, index) => {\n      if (colorItem.object.category !== lastGroup) {\n        lastGroup = colorItem.object.category;\n        colorItems.splice(index, 0, {\n          name: lastGroup,\n          props: {\n            className: 'entry',\n            style: {\n              color: 'white',\n              backgroundColor: 'black',\n              borderColor: 'white',\n              fontWeight: 'bold',\n              textAlign: 'center',\n              textDecorationLine: 'underline',\n              borderStyle: 'none'\n            }\n          },\n          object: { name: lastGroup }\n        });\n      }\n    });\n  }\n\n  // Sort color list by Category then Name\n  const options = cssColors.concat([]).sort((c1, c2) => {\n    if (c1.category < c2.category) return -1;\n    if (c1.category > c2.category) return 1;\n    if (c1.colorString < c2.colorString) return -1;\n    if (c1.colorString > c2.colorString) return 1;\n    return 0;\n  });\n\n  const items = options.map(color => {\n    return {\n      name: color.name,\n      props: {\n        className: 'entry',\n        style: {\n          color: color.textColor,\n          backgroundColor: color.colorString,\n          borderColor: color.textColor\n        }\n      },\n      object: color\n    };\n  });\n\n  return (\n    <CustomSelect\n      value={props.value}\n      items={items}\n      handleSelect={handleSelect}\n      filter={filter}\n      insertGroups={insertGroups}\n      findItem={CssColors.findColor}\n      findItemName={CssColors.findName}\n    />\n  );\n}\n\nexport default CssColorSelect;\n","import React, { useEffect, useRef, useState } from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport Modal from 'react-bootstrap/Modal';\nimport CssColors from '../../helpers/CssColors';\nimport '../../styles/ColorPicker.css';\nimport '../../styles/Modal.css';\nimport CssColorSelect from './CssColorSelect';\n\n/**\n * A color picker that allows you to choose one of the CSS-defined colors or a custom one.\n * @param {Object} props - properties object for the Color Picker\n * @param {string} props.value - value of the color picker\n * @param {(colorValue:string) => void} props.onChange - function to call when a color is chosen (saved)\n * @param {string} props.className - value to add to the className property of the rendered component\n * @param {Object} props.style - style object to apply to the rendered component\n */\nfunction ColorPicker(props) {\n  const defaultName = ' --- No Change ---';\n  const previewSize = '1.5em';\n\n  const [colorName, setColorName] = useState(defaultName);\n  const [colorValue, setColorValue] = useState(props.value);\n  const [showPicker, setShowPicker] = useState(false);\n  const originalColor = useRef('');\n  useEffect(() => {\n    setColor(props.value);\n  }, [props.value]); // may need to add setColor, or setColorValue and setColorName to the dependency list\n\n  function handleClick() {\n    if (!showPicker) originalColor.current = colorValue;\n    setShowPicker(prev => !prev);\n  }\n\n  function handleDismiss(evt) {\n    evt.stopPropagation();\n    reset();\n    setShowPicker(false);\n  }\n\n  function handleSave() {\n    props.onChange(colorValue);\n    setShowPicker(false);\n  }\n\n  function handleReset() {\n    if (originalColor.current !== colorValue) reset();\n    else setColor('');\n  }\n\n  function reset() {\n    setColor(originalColor.current);\n  }\n\n  function setColor(val) {\n    setColorName(CssColors.findName(val) || val.toUpperCase() || defaultName);\n    setColorValue(val);\n  }\n\n  function getHexColor(val) {\n    if (val.startsWith('#')) return val;\n    const color = CssColors.findColor(val);\n    return color ? color.hex.toLowerCase() : '#000000';\n  }\n\n  return (\n    <div\n      className={props.className + ' control-column'}\n      style={{ flexDirection: 'column', ...props.style }}\n    >\n      <Modal.Dialog\n        style={{ display: showPicker ? 'block' : 'none' }}\n        className=\"modal-w inline-modal\"\n      >\n        <Modal.Header>\n          <Modal.Title>Color Picker</Modal.Title>\n        </Modal.Header>\n        <div style={{ height: '1em', backgroundColor: colorValue }} />\n        <Modal.Body>\n          <Form.Group controlId=\"inputDefinedColor\">\n            <Form.Label>Choose a pre-defined color</Form.Label>\n            <CssColorSelect\n              value={colorValue}\n              onChange={newVal => setColor(newVal)}\n            />\n          </Form.Group>\n          <Form.Group controlId=\"inputCustomColor\">\n            <Form.Label>Or choose a custom color</Form.Label>\n            <Form.Control\n              type=\"color\"\n              value={getHexColor(colorValue)}\n              onChange={evt => setColor(evt.target.value)}\n            />\n          </Form.Group>\n        </Modal.Body>\n        <Modal.Footer className=\"row justify-content-around\">\n          <Button\n            variant=\"secondary\"\n            className=\"col-md-3 col-sm-5 col-7\"\n            onClick={handleDismiss}\n          >\n            Cancel\n          </Button>\n          <Button\n            variant=\"info\"\n            className=\"col-md-3 col-sm-5 col-7\"\n            onClick={handleReset}\n          >\n            Reset\n          </Button>\n          <Button\n            variant=\"primary\"\n            className=\"col-md-3 col-sm-5 col-7\"\n            onClick={handleSave}\n          >\n            Save\n          </Button>\n        </Modal.Footer>\n      </Modal.Dialog>\n      <Button variant=\"light\" onClick={handleClick}>\n        <span\n          className=\"align-middle d-inline-block\"\n          style={{\n            border: '1px solid currentColor',\n            backgroundColor: colorValue,\n            width: previewSize,\n            height: previewSize\n          }}\n        />\n        <span className=\"ml-2 align-middle d-inline-block no-xform-upper\">\n          {colorName}\n        </span>\n      </Button>\n    </div>\n  );\n}\n\nexport default ColorPicker;\n","import React, { useState } from 'react';\nimport Form from 'react-bootstrap/Form';\nimport { isObjectEmpty } from '../../helpers/MiscHelpers';\nimport '../../styles/ChooseFontStyle.css';\nimport ColorPicker from '../FormElements/ColorPicker';\nimport InlineFormGroup from '../FormElements/InlineFormGroup';\n\n/**\n * Wizard page for selecting a table row's font styling.\n * @param {FormatWizardPageProps} props - the props object for the Choose Font Style wizard page\n */\nfunction ChooseFontStyle(props) {\n  const stepName = 'Choose Font Style';\n  const stepDescription = 'Select any changes you want to make to the font.';\n  const weights = [\n    { name: 'Normal', value: 'normal' },\n    { name: 'Bold', value: 'bold' },\n    { name: 'Really Bold', value: '900' }\n  ];\n  const sizes = [\n    { name: 'Normal', value: 'inherit' },\n    { name: 'Smaller', value: '0.75em' },\n    { name: 'Larger', value: '1.25em' },\n    { name: 'Much Larger', value: '1.5em' }\n  ];\n  const decorations = [\n    { name: 'Underline', value: 'underline' },\n    { name: 'Strike-Through', value: 'line-through' }\n  ];\n\n  const [fontStyle, setFontStyle] = useState(\n    (props.formatting.style && props.formatting.style.fontStyle === 'italic') ||\n      ''\n  );\n  const [fontDecoration, setFontDecoration] = useState(\n    (props.formatting.style && props.formatting.style.textDecorationLine) || ''\n  );\n  const [fontWeight, setFontWeight] = useState(\n    (props.formatting.style && props.formatting.style.fontWeight) || ''\n  );\n  const [fontColor, setFontColor] = useState(\n    (props.formatting.style && props.formatting.style.color) || ''\n  );\n  const [fontVariant, setFontVariant] = useState(\n    (props.formatting.style &&\n      props.formatting.style.fontVariant === 'small-caps') ||\n      ''\n  );\n  const [fontSize, setFontSize] = useState(\n    (props.formatting.style && props.formatting.style.fontSize) || ''\n  );\n\n  function handleStyleChange(newVal) {\n    const style = newVal ? 'italic' : '';\n    let formatting = Object.assign({}, props.formatting);\n    if (!formatting.style) formatting.style = {};\n    formatting.style.fontStyle = style;\n    if (style === '') delete formatting.style.fontStyle;\n    if (isObjectEmpty(formatting.style)) delete formatting.style;\n    props.setFormatting(formatting);\n    setFontStyle(newVal);\n  }\n\n  function handleDecorationChange(changedDecoration, newVal) {\n    let decoration = fontDecoration;\n    const index = decoration.indexOf(changedDecoration);\n    if (index === -1 && newVal) {\n      if (changedDecoration === 'underline')\n        decoration = changedDecoration + ' ' + decoration;\n      else decoration = decoration + ' ' + changedDecoration;\n    } else if (index !== -1 && !newVal) {\n      decoration = decoration.replace(changedDecoration, '').trim();\n    }\n    let formatting = Object.assign({}, props.formatting);\n    if (!formatting.style) formatting.style = {};\n    formatting.style.textDecorationLine = decoration;\n    if (decoration === '') delete formatting.style.textDecorationLine;\n    if (isObjectEmpty(formatting.style)) delete formatting.style;\n    props.setFormatting(formatting);\n    setFontDecoration(decoration);\n  }\n\n  function handleWeightChange(newVal) {\n    let formatting = Object.assign({}, props.formatting);\n    if (!formatting.style) formatting.style = {};\n    formatting.style.fontWeight = newVal;\n    if (newVal === '') delete formatting.style.fontWeight;\n    if (isObjectEmpty(formatting.style)) delete formatting.style;\n    props.setFormatting(formatting);\n    setFontWeight(newVal);\n  }\n\n  function handleColorChange(newVal) {\n    let formatting = Object.assign({}, props.formatting);\n    if (!formatting.style) formatting.style = {};\n    formatting.style.color = newVal;\n    if (newVal === '') delete formatting.style.color;\n    if (isObjectEmpty(formatting.style)) delete formatting.style;\n    props.setFormatting(formatting);\n    setFontColor(newVal);\n  }\n\n  function handleVariantChange(newVal) {\n    const variant = newVal ? 'small-caps' : '';\n    let formatting = Object.assign({}, props.formatting);\n    if (!formatting.style) formatting.style = {};\n    formatting.style.fontVariant = variant;\n    if (variant === '') delete formatting.style.fontVariant;\n    if (isObjectEmpty(formatting.style)) delete formatting.style;\n    props.setFormatting(formatting);\n    setFontVariant(newVal);\n  }\n\n  function handleSizeChange(newVal) {\n    let formatting = Object.assign({}, props.formatting);\n    if (!formatting.style) formatting.style = {};\n    formatting.style.fontSize = newVal;\n    if (newVal === '') delete formatting.style.fontSize;\n    if (isObjectEmpty(formatting.style)) delete formatting.style;\n    props.setFormatting(formatting);\n    setFontSize(newVal);\n  }\n\n  const decorationOptions = decorations.map(d => {\n    return (\n      <InlineFormGroup\n        controlId={'inputDecoration' + d.name}\n        label={d.name}\n        key={d.name}\n      >\n        <Form.Check\n          type=\"checkbox\"\n          label=\"Example Text\"\n          className={'check-label-' + d.value}\n          checked={fontDecoration.indexOf(d.value) !== -1}\n          onChange={evt => handleDecorationChange(d.value, evt.target.checked)}\n        />\n      </InlineFormGroup>\n    );\n  });\n\n  const weightOptions = weights.map(w => {\n    return (\n      <option key={w.name} value={w.value}>\n        {w.name}\n      </option>\n    );\n  });\n\n  const sizeOptions = sizes.map(s => {\n    return (\n      <option key={s.name} value={s.value}>\n        {s.name}\n      </option>\n    );\n  });\n\n  return (\n    props.steps[props.curStep] === stepName && (\n      <>\n        <h5>{stepName}</h5>\n        <span className=\"form-text\">{stepDescription}</span>\n        <Form className=\"mt-3\">\n          <InlineFormGroup controlId=\"inputStyle\" label=\"Italic\">\n            <Form.Check\n              type=\"checkbox\"\n              label=\"Example Text\"\n              style={{ fontStyle: 'italic' }}\n              checked={fontStyle}\n              onChange={evt => handleStyleChange(evt.target.checked)}\n            />\n          </InlineFormGroup>\n          {decorationOptions}\n          <InlineFormGroup controlId=\"inputFontWeight\" label=\"Font Weight\">\n            <Form.Control\n              as=\"select\"\n              value={fontWeight}\n              onChange={evt => handleWeightChange(evt.target.value)}\n              style={{ minWidth: '9rem' }}\n            >\n              <option value=\"\">{'--- No change ---'}</option>\n              {weightOptions}\n            </Form.Control>\n          </InlineFormGroup>\n          <InlineFormGroup controlId=\"inputVariant\" label=\"Small Caps\">\n            <Form.Check\n              type=\"checkbox\"\n              label=\"Example Text\"\n              style={{ fontVariant: 'small-caps' }}\n              checked={fontVariant}\n              onChange={evt => handleVariantChange(evt.target.checked)}\n            />\n          </InlineFormGroup>\n          <InlineFormGroup controlId=\"inputFontSize\" label=\"Font Size\">\n            <Form.Control\n              as=\"select\"\n              value={fontSize}\n              onChange={evt => handleSizeChange(evt.target.value)}\n              style={{ minWidth: '9rem' }}\n            >\n              <option value=\"\">{'--- No change ---'}</option>\n              {sizeOptions}\n            </Form.Control>\n          </InlineFormGroup>\n          <InlineFormGroup controlId=\"inputFontColor\" label=\"Font Color\">\n            <ColorPicker\n              value={fontColor}\n              onChange={val => handleColorChange(val)}\n              style={{ minWidth: '9rem' }}\n            />\n          </InlineFormGroup>\n        </Form>\n      </>\n    )\n  );\n}\n\nexport default ChooseFontStyle;\n","import React from 'react';\nimport '../../styles/AnimationSelect.css';\nimport CustomSelect from './CustomSelect';\n\n/**\n * Array of available animations\n */\nexport const animations = [\n  {\n    name: 'Important!',\n    className: 'ani-important'\n  },\n  {\n    name: 'Loading',\n    className: 'ani-loading'\n  },\n  {\n    name: 'Throbbing',\n    className: 'ani-throbbing'\n  }\n];\n\n/**\n * A custom selector that lets you choose one of a few pre-defined animations.\n * @param {Object} props - properties object for AnimationSelect\n * @param {(animationStyle:string) => void} props.onChange - function to call when an animation is chosen\n * @param {string} props.value - The value of the selector\n */\nfunction AnimationSelect(props) {\n  function handleSelect(animation) {\n    if (animation.emptyString) {\n      props.onChange('');\n      return false;\n    }\n    props.onChange(animation.className);\n    return true;\n  }\n\n  function filter(animation, lowerCaseFilterText) {\n    return (\n      animation.name.toLowerCase().indexOf(lowerCaseFilterText) !== -1 ||\n      animation.className.toLowerCase().indexOf(lowerCaseFilterText) !== -1\n    );\n  }\n\n  function findAnimation(searchText) {\n    const value = searchText.toLowerCase();\n    const index = animations.findIndex(animation => {\n      return (\n        animation.name.toLowerCase() === value ||\n        animation.className.toLowerCase() === value\n      );\n    });\n    if (index !== -1) return animations[index];\n    else return null;\n  }\n\n  function findAnimationName(searchText) {\n    const animation = findAnimation(searchText);\n    if (animation) return animation.name;\n    else return '';\n  }\n\n  const items = animations.map(animation => {\n    return {\n      name: animation.name,\n      props: {\n        className: 'entry ' + animation.className,\n        style: {\n          color: animation.textColor,\n          backgroundColor: animation.colorString,\n          borderColor: animation.textColor\n        }\n      },\n      object: animation\n    };\n  });\n\n  return (\n    <CustomSelect\n      value={props.value}\n      items={items}\n      handleSelect={handleSelect}\n      filter={filter}\n      findItem={findAnimation}\n      findItemName={findAnimationName}\n    />\n  );\n}\n\nexport default AnimationSelect;\n","import React, { useState } from 'react';\nimport Form from 'react-bootstrap/Form';\nimport { isObjectEmpty } from '../../helpers/MiscHelpers';\nimport AnimationSelect, { animations } from '../FormElements/AnimationSelect';\nimport ColorPicker from '../FormElements/ColorPicker';\nimport InlineFormGroup from '../FormElements/InlineFormGroup';\n\n/**\n * Wizard page for selecting a table row's styling.\n * @param {FormatWizardPageProps} props - the props object for the Choose Row Style wizard page\n */\nfunction ChooseRowStyle(props) {\n  const stepName = 'Choose Row Style';\n  const stepDescription = 'Select any changes you want to make to the row.';\n  const alignments = [\n    { name: 'Default', value: 'initial' },\n    { name: 'Left', value: 'left' },\n    { name: 'Center', value: 'center' },\n    { name: 'Right', value: 'right' },\n    { name: 'Justify', value: 'justify' }\n  ];\n\n  const [className, setClassName] = useState(getAnimationClass());\n  const [backColor, setBackColor] = useState(\n    (props.formatting.style && props.formatting.style.backgroundColor) || ''\n  );\n  const [textAlign, setTextAlign] = useState(\n    (props.formatting.style && props.formatting.style.textAlign) || ''\n  );\n\n  function handleColorChange(newVal) {\n    let formatting = Object.assign({}, props.formatting);\n    if (!formatting.style) formatting.style = {};\n\n    // handle the class that makes the row columns honor the background color override\n    let className = formatting.className || '';\n    if (newVal && className.indexOf('honor-row-bg') === -1)\n      className = className + ' honor-row-bg';\n    else if (!newVal && className.indexOf('honor-row-bg') !== -1) {\n      let classes = className.split(' ');\n      for (let i = 0; i < classes.length; i++) {\n        if (classes[i] === 'honor-row-bg') {\n          classes.splice(i, 1);\n          break;\n        }\n      }\n      className = classes.join(' ');\n    }\n    formatting.className = className;\n    if (!className) delete formatting.className;\n\n    formatting.style.backgroundColor = newVal;\n    if (newVal === '') delete formatting.style.backgroundColor;\n    if (isObjectEmpty(formatting.style)) delete formatting.style;\n    props.setFormatting(formatting);\n    setBackColor(newVal);\n  }\n\n  function handleAlignChange(newVal) {\n    let formatting = Object.assign({}, props.formatting);\n    if (!formatting.style) formatting.style = {};\n    formatting.style.textAlign = newVal;\n    if (newVal === '') delete formatting.style.textAlign;\n    if (isObjectEmpty(formatting.style)) delete formatting.style;\n    props.setFormatting(formatting);\n    setTextAlign(newVal);\n  }\n\n  function handleClassChange(newVal) {\n    let formatting = Object.assign({}, props.formatting);\n    let classes =\n      (formatting.className && formatting.className.split(' ')) || [];\n    for (let i = 0; i < classes.length; i++) {\n      let index = animations.findIndex(a => a.className === classes[i]);\n      if (index !== -1) {\n        classes.splice(i, 1);\n        break;\n      }\n    }\n    classes.push(newVal);\n    const value = classes.join(' ');\n    formatting.className = value;\n    if (value === '') delete formatting.className;\n    props.setFormatting(formatting);\n    setClassName(newVal);\n  }\n\n  function getAnimationClass() {\n    let classes =\n      (props.formatting.className && props.formatting.className.split(' ')) ||\n      [];\n    for (let i = 0; i < classes.length; i++) {\n      let index = animations.findIndex(a => a.className === classes[i]);\n      if (index !== -1) return classes[i];\n    }\n    return '';\n  }\n\n  const alignOptions = alignments.map(a => {\n    return (\n      <option key={a.name} value={a.value}>\n        {a.name}\n      </option>\n    );\n  });\n\n  return (\n    props.steps[props.curStep] === stepName && (\n      <>\n        <h5>{stepName}</h5>\n        <span className=\"form-text\">{stepDescription}</span>\n        <Form className=\"mt-3\">\n          <InlineFormGroup\n            controlId=\"inputBackgroundColor\"\n            label=\"Background Color\"\n          >\n            <ColorPicker\n              value={backColor}\n              onChange={val => handleColorChange(val)}\n              style={{ minWidth: '9rem' }}\n            />\n          </InlineFormGroup>\n          <InlineFormGroup controlId=\"inputTextAlign\" label=\"Text Alignment\">\n            <Form.Control\n              as=\"select\"\n              value={textAlign}\n              onChange={evt => handleAlignChange(evt.target.value)}\n              style={{ minWidth: '9rem' }}\n            >\n              <option value=\"\">{'--- No change ---'}</option>\n              {alignOptions}\n            </Form.Control>\n          </InlineFormGroup>\n          <InlineFormGroup controlId=\"inputAnimation\" label=\"Animation\">\n            <AnimationSelect\n              value={className}\n              onChange={val => handleClassChange(val)}\n              style={{ minWidth: '9rem' }}\n            />\n          </InlineFormGroup>\n        </Form>\n      </>\n    )\n  );\n}\n\nexport default ChooseRowStyle;\n","import React from 'react';\n\n/**\n * Wizard page stating that the user is done.\n * @param {WizardPageProps} props - the props object for the Choose Font Style wizard page\n */\nfunction FinishPage(props) {\n  const stepName = 'Finish';\n  const stepDescription = 'Click Save to apply your formatting changes.';\n  return (\n    props.steps[props.curStep] === stepName && (\n      <>\n        <h5>{stepName}</h5>\n        <span className=\"form-text\">{stepDescription}</span>\n      </>\n    )\n  );\n}\n\nexport default FinishPage;\n","import React, { useState } from 'react';\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport Table from 'react-bootstrap/Table';\nimport { getLocalIsoDateAndTime } from '../helpers/TimeHelpers';\nimport { ReactComponent as WizardHat } from '../resources/wizard-hat.svg';\nimport '../styles/Modal.css';\nimport '../styles/RowFormattingWizard.css';\nimport '../styles/Table.css';\nimport TableRow from './TableRow';\nimport ChooseClass from './WizardPages/ChooseClass';\nimport ChooseFontStyle from './WizardPages/ChooseFontStyle';\nimport ChooseRowStyle from './WizardPages/ChooseRowStyle';\nimport FinishPage from './WizardPages/FinishPage';\n\nfunction RowFormattingWizard(props) {\n  const [showWizard, setShowWizard] = useState(false);\n  const [curStep, setCurStep] = useState(0);\n  const [formatting, setFormatting] = useState(parse(props.formatting));\n\n  const steps = [\n    'Choose Class',\n    'Choose Font Style',\n    'Choose Row Style',\n    'Finish'\n  ];\n\n  // Handlers\n  function handleWizardBtn() {\n    resetWizard();\n    setShowWizard(prev => !prev);\n  }\n\n  function handleDismiss() {\n    resetWizard();\n    setShowWizard(false);\n  }\n\n  function handleDone() {\n    props.setFormatting(JSON.stringify(formatting));\n    handleDismiss();\n  }\n\n  // Helpers\n  function parse(formattingString) {\n    const obj = JSON.parse(formattingString || '{}');\n    return obj;\n  }\n\n  function resetWizard() {\n    setCurStep(0);\n    setFormatting(parse(props.formatting));\n  }\n\n  // JSX generation\n  const breadcrumbs = steps.map((name, index) => {\n    return (\n      index <= curStep && (\n        <Breadcrumb.Item\n          {...(index === curStep && { active: true })}\n          {...(index < curStep && { href: '#' })}\n          key={name}\n          onClick={evt => {\n            evt.preventDefault();\n            setCurStep(index);\n          }}\n        >\n          {name}\n        </Breadcrumb.Item>\n      )\n    );\n  });\n  const [date, time] = getLocalIsoDateAndTime(new Date());\n  return (\n    <>\n      <Modal show={showWizard} onHide={handleDismiss} dialogClassName=\"modal-w\">\n        <Modal.Header closeButton>\n          <Modal.Title>Row Formatting Wizard</Modal.Title>\n        </Modal.Header>\n        <Breadcrumb className=\"modal-breadcrumb\">{breadcrumbs}</Breadcrumb>\n        <Table className=\"example-row\" bordered size=\"sm\">\n          <tbody>\n            <TableRow\n              date={date}\n              event=\"Example event...\"\n              formatting={JSON.stringify(formatting)}\n              onDelete={() => null}\n              time={time}\n            ></TableRow>\n          </tbody>\n        </Table>\n        <Modal.Body>\n          <ChooseClass\n            curStep={curStep}\n            steps={steps}\n            formatting={formatting}\n            setFormatting={setFormatting}\n          />\n          <ChooseFontStyle\n            curStep={curStep}\n            steps={steps}\n            formatting={formatting}\n            setFormatting={setFormatting}\n          />\n          <ChooseRowStyle\n            curStep={curStep}\n            steps={steps}\n            formatting={formatting}\n            setFormatting={setFormatting}\n          />\n          <FinishPage curStep={curStep} steps={steps} />\n        </Modal.Body>\n        <Modal.Footer className=\"row justify-content-around\">\n          {curStep > 0 && (\n            <Button\n              variant=\"secondary\"\n              className=\"col-md-3 col-5\"\n              onClick={() => setCurStep(curStep > 0 ? curStep - 1 : 0)}\n            >\n              Previous\n            </Button>\n          )}\n          {curStep < steps.length - 1 && (\n            <Button\n              variant=\"primary\"\n              className=\"col-md-3 col-5\"\n              onClick={() =>\n                setCurStep(\n                  curStep < steps.length - 1 ? curStep + 1 : steps.length - 1\n                )\n              }\n            >\n              Next\n            </Button>\n          )}\n          {curStep === steps.length - 1 && (\n            <Button\n              variant=\"primary\"\n              className=\"col-md-3 col-5\"\n              onClick={handleDone}\n            >\n              Finish\n            </Button>\n          )}\n        </Modal.Footer>\n      </Modal>\n      <Button\n        variant=\"primary\"\n        className=\"wizard-logo-btn\"\n        onClick={() => handleWizardBtn()}\n      >\n        <WizardHat alt=\"Wizard hat\" className=\"wizard-btn-logo\" />\n      </Button>\n    </>\n  );\n}\n\nexport default RowFormattingWizard;\n","import React, { useEffect, useState } from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Card from 'react-bootstrap/Card';\nimport Form from 'react-bootstrap/Form';\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport EventTypeSelector from '../components/FormElements/EventTypeSelector';\nimport PageHeading from '../components/PageHeading';\nimport RowFormattingWizard from '../components/RowFormattingWizard';\n\nfunction Types(props) {\n  const [id, setId] = useState('');\n  const [oldId, setOldId] = useState('');\n  const [name, setName] = useState('');\n  const [formatting, setFormatting] = useState('');\n  const [deleteType, setDeleteType] = useState(false);\n  const [newType, setNewType] = useState(true);\n  const [alertText, setAlertText] = useState('');\n\n  useEffect(() => {\n    if (!id) {\n      let newId = String(Math.max(...props.evtTypes.map(t => t.id), 0) + 1);\n      // This is necessary, because with the database delay, it sometimes generates\n      // the new ID before the new event type is in the event types list\n      if (newId === oldId) newId += 1;\n      setId(newId);\n    }\n  }, [id, props.evtTypes]);\n\n  function handleTypeChange(type) {\n    if (!type.id) setNewType(true);\n    else setNewType(false);\n\n    setName(type.name || '');\n    setFormatting(type.formatting || '');\n    setDeleteType(type.hidden || false);\n    setId(type.id || '');\n  }\n\n  function handleSubmit() {\n    const evt = {\n      id: id,\n      name: name,\n      formatting: formatting,\n      hidden: deleteType\n    };\n    props.onEditType(evt);\n\n    setAlertText(\n      <>\n        {'Successfully modified '}\n        <strong>{name}</strong>\n        {' event type!'}\n      </>\n    );\n    setName('');\n    setFormatting('');\n    setDeleteType(false);\n    setNewType(true);\n    setOldId(id);\n    setId('');\n  }\n\n  const alerts = [\n    {\n      type: 'success',\n      dismissible: true,\n      onClose: () => setAlertText(''),\n      text: alertText\n    }\n  ];\n\n  return (\n    <>\n      <PageHeading alerts={alerts}>Event Type Management</PageHeading>\n      <Card border=\"primary\" className=\"mb-3\">\n        <Card.Body>\n          <Form>\n            <EventTypeSelector\n              evtTypes={props.evtTypes}\n              value={id}\n              onChange={newEvtType => handleTypeChange(newEvtType)}\n              description=\"Choose an event type if you want to modify an existing event.\"\n              nofilter={props.showHidden}\n            />\n            <InputName\n              value={name}\n              onChange={newName => setName(newName)}\n              disabled={deleteType}\n            />\n            <InputFormatting\n              value={formatting}\n              onChange={newFormatting => setFormatting(newFormatting)}\n              disabled={deleteType}\n            />\n            <CheckDelete\n              value={deleteType}\n              onChange={newValue => setDeleteType(newValue)}\n              show={!newType}\n            />\n            <Button variant=\"primary\" onClick={() => handleSubmit()}>\n              Submit\n            </Button>\n          </Form>\n        </Card.Body>\n      </Card>\n    </>\n  );\n}\n\nfunction InputName(props) {\n  return (\n    <Form.Group controlId=\"inputName\">\n      <Form.Label>Event Type Name</Form.Label>\n      <Form.Control\n        required\n        type=\"text\"\n        placeholder=\"Enter the event type name\"\n        value={props.value}\n        onChange={evt => props.onChange(evt.target.value)}\n      />\n    </Form.Group>\n  );\n}\n\nfunction InputFormatting(props) {\n  return (\n    <Form.Group controlId=\"inputFormatting\">\n      <Form.Label>Event Type Formatting</Form.Label>\n      <InputGroup>\n        <Form.Control\n          type=\"text\"\n          placeholder=\"Enter the event type formatting\"\n          value={props.value}\n          onChange={evt => props.onChange(evt.target.value)}\n        />\n        <InputGroup.Append>\n          <RowFormattingWizard\n            formatting={props.value}\n            setFormatting={props.onChange}\n          />\n        </InputGroup.Append>\n      </InputGroup>\n    </Form.Group>\n  );\n}\n\nfunction CheckDelete(props) {\n  return (\n    props.show && (\n      <Form.Group controlId=\"inputDelete\">\n        <Form.Label className=\"text-danger\">Remove Event Type</Form.Label>\n        <Form.Check\n          type=\"checkbox\"\n          label=\"Hide this event type!\"\n          checked={props.value}\n          onChange={evt => props.onChange(evt.target.checked)}\n        />\n      </Form.Group>\n    )\n  );\n}\n\nexport default Types;\n","import React from 'react';\nimport Alert from 'react-bootstrap/Alert';\n\nfunction RulesEngineAlerts(props) {\n  let alerts = [];\n\n  // TODO: Rules Engine...\n\n  const alertElements = alerts.map(alert => {\n    return (\n      <Alert\n        variant={alert.type || 'info'}\n        dismissible={!!alert.dismissible}\n        onClose={alert.onClose || null}\n      >\n        {alert.text}\n      </Alert>\n    );\n  });\n  return alertElements;\n}\n\nexport default RulesEngineAlerts;\n","import React, { useEffect } from 'react';\nimport { Route } from 'react-router-dom';\nimport { getLocalIsoDateAndTime } from '../helpers/TimeHelpers';\nimport useDatabase from '../hooks/useDatabase';\nimport useInterval from '../hooks/useInterval';\nimport useLocalChanges from '../hooks/useLocalChanges';\nimport useSettings from '../hooks/useSettings';\nimport History from '../pages/History';\nimport Home from '../pages/Home';\nimport Settings from '../pages/Settings';\nimport Types from '../pages/Types';\nimport RulesEngineAlerts from './RulesEngineAlerts';\n\nfunction DatabaseManagedRoutes() {\n  const database = useDatabase();\n  const localChanges = useLocalChanges();\n  const settings = useSettings();\n\n  // instance variables (reset every render)\n  const syncInterval = settings.pollInterval || 5; // if allow offline changes is true, try to reconnect to the server this often\n  let exitingOfflineOnly = false;\n  let eventTypeChangeQueue;\n  let eventChangeQueue;\n\n  // Fetch data for initial load\n  useEffect(() => {\n    if (!database.lastSync) {\n      syncData();\n    }\n  });\n\n  // TODO: add more robust/helpful (logging) error handling\n\n  //#region Intervals\n  // Refresh data based on poll interval\n  useInterval(\n    () => {\n      syncData();\n    },\n    !settings.offlineOnly && settings.pollInterval > 0\n      ? settings.pollInterval * 60000\n      : null\n  );\n\n  // Try to sync local changes when not connected\n  useInterval(\n    () => {\n      syncData();\n    },\n    !settings.offlineOnly &&\n      database.notConnected &&\n      settings.allowOfflineChanges &&\n      localChanges.changes !== null\n      ? syncInterval * 60000\n      : null\n  );\n  //#endregion\n\n  //#region Handlers\n  async function handleEditType(evtType) {\n    let succeeds = true;\n    succeeds = await database.tryModifyType(evtType);\n\n    if (succeeds && !settings.offlineOnly) {\n      database.updateEventTypesInRAM([evtType]);\n    } else {\n      database.setNotConnected(true);\n      if (localChangesAllowed()) localChanges.trackEventType(evtType);\n    }\n  }\n\n  async function handleNewEvent(id, timeStr, dateStr) {\n    let succeeds = true;\n    const newEvt = generateNewEvent(id, timeStr, dateStr);\n    succeeds = await database.tryAddEvent(newEvt);\n\n    if (succeeds && !settings.offlineOnly) {\n      database.addNewEventsToRAM([newEvt]);\n    } else {\n      database.setNotConnected(true);\n      if (localChangesAllowed()) localChanges.trackNewEvent(newEvt);\n    }\n  }\n\n  async function handleDeleteEvent(id) {\n    let succeeds = true;\n    succeeds = await database.tryDeleteEvent(id);\n\n    if (succeeds && !settings.offlineOnly) {\n      database.deleteEventsFromRAM([id]);\n    } else {\n      database.setNotConnected(true);\n      if (localChangesAllowed()) localChanges.trackDeletedEvent(id);\n    }\n  }\n\n  function handleSetOfflineOnly(newVal) {\n    if (!newVal) {\n      exitingOfflineOnly = true;\n      syncData();\n    }\n    settings.setOfflineOnly(newVal);\n  }\n  //#endregion\n\n  //#region Helpers\n  function generateNewEvent(\n    id,\n    timeStr = null,\n    dateStr = null,\n    dateTime,\n    otherReservedEventIds = []\n  ) {\n    // get the highest existing event id.   TODO: check if there's a more efficient way\n    // TODO: maybe extract localChanges logic to a separate function\n    let ids;\n    if (exitingOfflineOnly) {\n      ids = eventChangeQueue.map(e => e.id).concat(otherReservedEventIds);\n    } else {\n      const newEvtIds =\n        localChanges.changes && localChanges.changes.newEvents\n          ? localChanges.changes.newEvents.map(e => e.id)\n          : [];\n      ids = database.events.map(e => e.id).concat(newEvtIds);\n    }\n    let max = -1;\n    for (let i of ids) if (i > max) max = i; // eslint-disable-line no-unused-vars\n\n    const newId = String(Number(max) + 1);\n    if (!dateTime) {\n      const [dateNow, timeNow] = getLocalIsoDateAndTime(new Date());\n      const time = timeStr || timeNow;\n      const date = dateStr || dateNow;\n      dateTime = new Date(date + 'T' + time).getTime();\n    }\n\n    return {\n      datetime: dateTime,\n      event: id,\n      id: newId\n    };\n  }\n\n  function localChangesAllowed() {\n    return (\n      !exitingOfflineOnly &&\n      (settings.offlineOnly || settings.allowOfflineChanges)\n    );\n  }\n\n  function tryPushLocalChanges() {\n    const newLocalChanges = Object.assign({}, localChanges.changes);\n    let error = false;\n    let eventTypeChanges = [];\n    let eventsToDelete = [];\n    let newEventsToPush = [];\n\n    // handle new/modified event types\n    if (!error && localChanges.changes.eventTypes) {\n      eventTypeChanges = localChanges.changes.eventTypes.slice();\n      const successes = database.bulkUpdateEventTypes(\n        eventTypeChanges,\n        eventTypeChangeQueue\n      );\n      eventTypeChangeQueue = database.updateEventTypesInRAM(\n        successes,\n        eventTypeChangeQueue\n      );\n      newLocalChanges.eventTypes = eventTypeChanges;\n    }\n    if (eventTypeChanges.length > 0) error = true;\n\n    // handle deletes\n    if (!error && localChanges.changes.deleteEvents) {\n      eventsToDelete = localChanges.changes.deleteEvents.slice();\n      const successes = database.bulkDeleteEvents(\n        eventsToDelete,\n        eventChangeQueue\n      );\n      eventChangeQueue = database.deleteEventsFromRAM(successes, true);\n      newLocalChanges.deleteEvents = eventsToDelete;\n    }\n    if (eventsToDelete.length > 0) error = true;\n\n    // handle new events\n    if (!error && localChanges.changes.newEvents) {\n      // eslint-disable-next-line no-unused-vars\n      for (let evt of localChanges.changes.newEvents) {\n        newEventsToPush.push(\n          generateNewEvent(\n            evt.event,\n            null,\n            null,\n            evt.datetime,\n            newEventsToPush.map(e => e.id)\n          )\n        );\n      }\n      const successes = database.bulkAddEvents(newEventsToPush);\n      eventChangeQueue = database.addNewEventsToRAM(\n        successes,\n        eventChangeQueue\n      );\n      newLocalChanges.newEvents = newEventsToPush;\n    }\n    if (newEventsToPush.length > 0) error = true;\n\n    // Handle error condition\n    if (!error) {\n      localChanges.setChanges(null);\n    } else {\n      localChanges.setChanges(newLocalChanges);\n    }\n    return error;\n  }\n  //#endregion\n\n  async function syncData() {\n    let error = false,\n      success;\n    eventTypeChangeQueue = database.eventTypes.slice();\n    eventChangeQueue = database.events.slice();\n\n    [\n      success,\n      eventTypeChangeQueue,\n      eventChangeQueue\n    ] = await database.tryPullChanges(eventTypeChangeQueue, eventChangeQueue);\n    if (!success) error = true;\n\n    if (\n      !error &&\n      localChanges.changes !== null &&\n      (!settings.offlineOnly || exitingOfflineOnly)\n    ) {\n      error = tryPushLocalChanges();\n    }\n    database.setNotConnected(error); // TODO: Show alert\n    database.setEventTypes(eventTypeChangeQueue);\n    database.setEvents(eventChangeQueue);\n  }\n\n  const [events, eventTypes] = localChanges.apply(\n    database.events.slice(),\n    database.eventTypes.slice()\n  );\n\n  return [\n    <RulesEngineAlerts key=\"rules-engine-alerts\" />, // TODO: Notifications page/dropdown w/ badge\n    <Route\n      path=\"/\"\n      exact\n      render={() => (\n        <Home\n          evtTypes={eventTypes}\n          rows={events}\n          onNewEvent={handleNewEvent}\n          onDeleteEvent={handleDeleteEvent}\n          offlineOnly={settings.offlineOnly}\n          onRefresh={syncData}\n        />\n      )}\n      key=\"home\"\n    />,\n    <Route\n      path=\"/history/\"\n      render={() => (\n        <History\n          evtTypes={eventTypes}\n          rows={events}\n          onNewEvent={handleNewEvent}\n          timeSinceFormat={settings.timeSinceFormat}\n        />\n      )}\n      key=\"history\"\n    />,\n    <Route\n      path=\"/type-management/\"\n      render={() => (\n        <Types\n          evtTypes={eventTypes}\n          onEditType={handleEditType}\n          showHidden={settings.showHiddenTypes}\n        />\n      )}\n      key=\"type-management\"\n    />,\n    <Route\n      path=\"/settings/\"\n      render={() => (\n        <Settings\n          pollInterval={settings.pollInterval}\n          onChangePollInterval={newVal => settings.setPollInterval(newVal)}\n          showHiddenTypes={settings.showHiddenTypes}\n          onChangeShowHiddenTypes={newVal =>\n            settings.setShowHiddenTypes(newVal)\n          }\n          timeSinceFormat={settings.timeSinceFormat}\n          onChangeTimeSinceFormat={newVal =>\n            settings.setTimeSinceFormat(newVal)\n          }\n          allowOfflineChanges={settings.allowOfflineChanges}\n          onChangeAllowOfflineChanges={newVal =>\n            settings.setAllowOfflineChanges(newVal)\n          }\n          offlineOnly={settings.offlineOnly}\n          onChangeOfflineOnly={newVal => handleSetOfflineOnly(newVal)}\n        />\n      )}\n      key=\"settings\"\n    />\n  ];\n}\n\nexport default DatabaseManagedRoutes;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  fill: \"#61DAFB\"\n}, React.createElement(\"path\", {\n  d: \"M666.3 296.5c0-32.5-40.7-63.3-103.1-82.4 14.4-63.6 8-114.2-20.2-130.4-6.5-3.8-14.1-5.6-22.4-5.6v22.3c4.6 0 8.3.9 11.4 2.6 13.6 7.8 19.5 37.5 14.9 75.7-1.1 9.4-2.9 19.3-5.1 29.4-19.6-4.8-41-8.5-63.5-10.9-13.5-18.5-27.5-35.3-41.6-50 32.6-30.3 63.2-46.9 84-46.9V78c-27.5 0-63.5 19.6-99.9 53.6-36.4-33.8-72.4-53.2-99.9-53.2v22.3c20.7 0 51.4 16.5 84 46.6-14 14.7-28 31.4-41.3 49.9-22.6 2.4-44 6.1-63.6 11-2.3-10-4-19.7-5.2-29-4.7-38.2 1.1-67.9 14.6-75.8 3-1.8 6.9-2.6 11.5-2.6V78.5c-8.4 0-16 1.8-22.6 5.6-28.1 16.2-34.4 66.7-19.9 130.1-62.2 19.2-102.7 49.9-102.7 82.3 0 32.5 40.7 63.3 103.1 82.4-14.4 63.6-8 114.2 20.2 130.4 6.5 3.8 14.1 5.6 22.5 5.6 27.5 0 63.5-19.6 99.9-53.6 36.4 33.8 72.4 53.2 99.9 53.2 8.4 0 16-1.8 22.6-5.6 28.1-16.2 34.4-66.7 19.9-130.1 62-19.1 102.5-49.9 102.5-82.3zm-130.2-66.7c-3.7 12.9-8.3 26.2-13.5 39.5-4.1-8-8.4-16-13.1-24-4.6-8-9.5-15.8-14.4-23.4 14.2 2.1 27.9 4.7 41 7.9zm-45.8 106.5c-7.8 13.5-15.8 26.3-24.1 38.2-14.9 1.3-30 2-45.2 2-15.1 0-30.2-.7-45-1.9-8.3-11.9-16.4-24.6-24.2-38-7.6-13.1-14.5-26.4-20.8-39.8 6.2-13.4 13.2-26.8 20.7-39.9 7.8-13.5 15.8-26.3 24.1-38.2 14.9-1.3 30-2 45.2-2 15.1 0 30.2.7 45 1.9 8.3 11.9 16.4 24.6 24.2 38 7.6 13.1 14.5 26.4 20.8 39.8-6.3 13.4-13.2 26.8-20.7 39.9zm32.3-13c5.4 13.4 10 26.8 13.8 39.8-13.1 3.2-26.9 5.9-41.2 8 4.9-7.7 9.8-15.6 14.4-23.7 4.6-8 8.9-16.1 13-24.1zM421.2 430c-9.3-9.6-18.6-20.3-27.8-32 9 .4 18.2.7 27.5.7 9.4 0 18.7-.2 27.8-.7-9 11.7-18.3 22.4-27.5 32zm-74.4-58.9c-14.2-2.1-27.9-4.7-41-7.9 3.7-12.9 8.3-26.2 13.5-39.5 4.1 8 8.4 16 13.1 24 4.7 8 9.5 15.8 14.4 23.4zM420.7 163c9.3 9.6 18.6 20.3 27.8 32-9-.4-18.2-.7-27.5-.7-9.4 0-18.7.2-27.8.7 9-11.7 18.3-22.4 27.5-32zm-74 58.9c-4.9 7.7-9.8 15.6-14.4 23.7-4.6 8-8.9 16-13 24-5.4-13.4-10-26.8-13.8-39.8 13.1-3.1 26.9-5.8 41.2-7.9zm-90.5 125.2c-35.4-15.1-58.3-34.9-58.3-50.6 0-15.7 22.9-35.6 58.3-50.6 8.6-3.7 18-7 27.7-10.1 5.7 19.6 13.2 40 22.5 60.9-9.2 20.8-16.6 41.1-22.2 60.6-9.9-3.1-19.3-6.5-28-10.2zM310 490c-13.6-7.8-19.5-37.5-14.9-75.7 1.1-9.4 2.9-19.3 5.1-29.4 19.6 4.8 41 8.5 63.5 10.9 13.5 18.5 27.5 35.3 41.6 50-32.6 30.3-63.2 46.9-84 46.9-4.5-.1-8.3-1-11.3-2.7zm237.2-76.2c4.7 38.2-1.1 67.9-14.6 75.8-3 1.8-6.9 2.6-11.5 2.6-20.7 0-51.4-16.5-84-46.6 14-14.7 28-31.4 41.3-49.9 22.6-2.4 44-6.1 63.6-11 2.3 10.1 4.1 19.8 5.2 29.1zm38.5-66.7c-8.6 3.7-18 7-27.7 10.1-5.7-19.6-13.2-40-22.5-60.9 9.2-20.8 16.6-41.1 22.2-60.6 9.9 3.1 19.3 6.5 28.1 10.2 35.4 15.1 58.3 34.9 58.3 50.6-.1 15.7-23 35.6-58.4 50.6zM320.8 78.4z\"\n}), React.createElement(\"circle\", {\n  cx: 420.9,\n  cy: 296.5,\n  r: 45.7\n}), React.createElement(\"path\", {\n  d: \"M520.5 78.1z\"\n}));\n\nvar SvgLogo = function SvgLogo(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 841.9 595.3\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgLogo, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from 'react';\nimport Nav from 'react-bootstrap/Nav';\nimport Navbar from 'react-bootstrap/Navbar';\nimport { Link } from 'react-router-dom';\nimport { ReactComponent as Logo } from '../resources/logo.svg';\n\n/**\n * The Navigation Bar component for this app. It remains at the top at all times.\n * @param {Object} props - The props object for NavigationBar\n * @param {string} props.basename - The base folder of the hosted application. Needed for the Logo link.\n */\nfunction NavigationBar(props) {\n  const [navCollapsed, setNavCollapsed] = useState(true);\n\n  function changeCollapsed(toggle) {\n    let collapse;\n    if (toggle) collapse = !navCollapsed;\n    else collapse = true;\n    setNavCollapsed(collapse);\n  }\n\n  return (\n    <Navbar expand=\"lg\" bg=\"primary\" variant=\"dark\" expanded={!navCollapsed}>\n      <Navbar.Brand href={props.basename}>\n        {/* TODO: determine if I want to change this to a Link instead (so that it doesn't reload the app) */}\n        <Logo className=\"d-inline-block align-top logo\" />\n        {' TestApp'}\n      </Navbar.Brand>\n      <Navbar.Toggle onClick={() => changeCollapsed(true)} />\n      <Navbar.Collapse\n        className=\"justify-content-end\"\n        onClick={() => changeCollapsed()}\n      >\n        <Nav>\n          <Nav.Link as={Link} to=\"/\">\n            Home\n          </Nav.Link>\n          <Nav.Link as={Link} to=\"/history/\">\n            Event History\n          </Nav.Link>\n          <Nav.Link as={Link} to=\"/type-management/\">\n            Event Type Management\n          </Nav.Link>\n          <Nav.Link as={Link} to=\"/settings/\">\n            Settings\n          </Nav.Link>\n          <Nav.Link as={Link} to=\"/about/\">\n            About\n          </Nav.Link>\n        </Nav>\n      </Navbar.Collapse>\n    </Navbar>\n  );\n}\n\nexport default NavigationBar;\n","import React from 'react';\nimport logo from '../resources/logo.svg';\nimport '../styles/About.css';\n\nfunction About() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        <p>\n          Edit <code>src/App.js</code> and save to reload.\n        </p>\n        <a\n          className=\"App-link\"\n          href=\"https://reactjs.org\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Learn React\n        </a>\n      </header>\n    </div>\n  );\n}\n\nexport default About;\n","import React from 'react';\nimport Container from 'react-bootstrap/Container';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport DbRoutes from './components/DatabaseManagedRoutes';\nimport NavigationBar from './components/NavigationBar';\nimport About from './pages/About';\n\n// Router\nfunction AppRouter() {\n  const basename = process.env.REACT_APP_BASE_PATH;\n  return (\n    <Router basename={basename}>\n      <Container>\n        <NavigationBar basename={basename} />\n\n        <DbRoutes />\n        <Route path=\"/about/\" component={About} />\n      </Container>\n    </Router>\n  );\n}\n\nexport default AppRouter;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}